(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e){e.exports={"Usage Analytics":"",Values:"","Please use the format yyyy-mm-dd":"","End date is before start date":"","Start date is after end date":"","Start Date":"","End date":"",Category:"",Interval:"","Aggregation Level":"","Chart Type":"","Event Type":"","Page Size":"","Sort Order":"","There was an error retrieving the usage analytics data":"",Sum:"",Average:"","Favorite views":"","Number of times users looked at analysis favorites":"","Favorites saved":"","Number of analysis favorites created by users":"",Users:"","Number of users in the system":"","Top favorites":"","Data values":"","Number of data values saved in the system":"",All:"",Total:"",Chart:"",Map:"","Report table":"","Event report":"","Event chart":"",Dashboard:"","Data set report":"",Day:"",Week:"",Month:"",Year:"",Date:"","Pivot Table":"","Event Report":"","Event Chart":"","Data Set Report":"","Average Map":"","Average Chart":"","Average Pivot Table":"","Average Event Report":"","Average Event Chart":"","Average Dashboard":"",Maps:"",Charts:"","Pivot Tables":"","Event Reports":"","Event Charts":"",Dashboards:"",Indicators:"","Active Users":"","Total Users":"",Position:"",Name:"",Views:"",ID:"",Created:"","Data Values":"",Ascending:"",Descending:""}},179:function(e,t,a){e.exports=a(399)},184:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},373:function(e,t,a){},375:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),l=a(149),i=a.n(l),u=(a(184),a(2)),c=a.n(u),s=a(8),f=a(173),v=a(40),p=a(151),b=(a(189),"LOADING"),y="READY",d="ERROR",g="APP_LOAD_SUCCESS",m="APP_LOAD_ERROR",h="USAGE_DATA_REQUESTED",E="USAGE_DATA_RECEIVED",D="USAGE_DATA_ERRORED",O="FILTER_UPDATED";function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var A="FAVORITE_VIEWS",S="TOP_FAVORITES",T=(w(r={},A,{value:A,label:c.a.t("Favorite views"),subtitle:c.a.t("Number of times users looked at analysis favorites")}),w(r,"FAVORITES_SAVED",{value:"FAVORITES_SAVED",label:c.a.t("Favorites saved"),subtitle:c.a.t("Number of analysis favorites created by users")}),w(r,"USERS",{value:"USERS",label:c.a.t("Users"),subtitle:c.a.t("Number of users in the system")}),w(r,S,{value:S,label:c.a.t("Top favorites")}),w(r,"DATA_VALUES",{value:"DATA_VALUES",label:c.a.t("Data values"),subtitle:c.a.t("Number of data values saved in the system")}),r),k=[T.FAVORITE_VIEWS,T.FAVORITES_SAVED,T.USERS,T.TOP_FAVORITES,T.DATA_VALUES],R="DAY",C="WEEK",j="MONTH",P="YEAR",V=[{value:R,label:c.a.t("Day")},{value:C,label:c.a.t("Week")},{value:j,label:c.a.t("Month")},{value:P,label:c.a.t("Year")}],_="SUM",F=[{value:_,label:c.a.t("Sum")},{value:"AVERAGE",label:c.a.t("Average")}],N="TOTAL",I=[{value:"ALL",label:c.a.t("All")},{value:N,label:c.a.t("Total")}],U="CHART_VIEW",L=[{value:U,label:c.a.t("Chart")},{value:"MAP_VIEW",label:c.a.t("Map")},{value:"REPORT_TABLE_VIEW",label:c.a.t("Report table")},{value:"EVENT_REPORT_VIEW",label:c.a.t("Event report")},{value:"EVENT_CHART_VIEW",label:c.a.t("Event chart")},{value:"DASHBOARD_VIEW",label:c.a.t("Dashboard")},{value:"DATA_SET_REPORT_VIEW",label:c.a.t("Data set report")}],x="ASC",M=[{value:x,label:c.a.t("Ascending")},{value:"DESC",label:c.a.t("Descending")}];function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e){var t=e.getFullYear(),a=""+(e.getMonth()+1),r=""+e.getDate();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[t,a,r].join("-")}var q=[p.a];var z=Object(v.c)({appStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;switch((arguments.length>1?arguments[1]:void 0).type){case g:return y;case m:return d;default:return e}},locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case g:return r.locale;default:return e}},usageData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case h:return b;case g:return r.usageData;case E:return r;case D:return d;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){var t=new Date(e.valueOf());return t.setMonth(t.getMonth()-4),{category:A,startDate:G(t),endDate:G(e),interval:C,aggregationLevel:_,chartType:N,eventType:U,pageSize:25,sortOrder:x}}(new Date),t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case O:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){W(e,t,a[t])})}return e}({},e,W({},r.key,r.value));default:return e}}}),H=Object(v.d)(z,v.a.apply(void 0,q)),J=a(1),Y=a.n(J),B=a(39),K=a(174),Q=a(177),$=a(101),X=a.n($),Z=a(152);X.a.locale("en"),c.a.addResources("en","usage-analytics-app",Z),c.a.setDefaultNamespace("usage-analytics-app"),c.a.changeLanguage("en");var ee=c.a;function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(u){n=!0,o=u}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ae={initApp:re,getUsageData:ne,getFavorites:function(e){var t=e.eventType,a=e.pageSize,r=e.sortOrder,n="eventType=".concat(t,"&pageSize=").concat(a,"&sortOrder=").concat(r,"&_=").concat(Date.now());return ae.getJSON("dataStatistics/favorites?".concat(n))},getDataStatistics:function(e){var t=e.startDate,a=e.endDate,r=e.interval,n="startDate=".concat(t,"&endDate=").concat(a,"&interval=").concat(r,"&_=").concat(Date.now());return ae.getJSON("dataStatistics?".concat(n))},getUserLocale:function(){return ae.getJSON("userSettings").then(function(e){return e.keyUiLocale})},getJSON:function(e){return Object(K.a)(e).then(function(e){return e.json()}).then(function(e){if("ERROR"===e.status)throw new Error(e.message);return e})}};function re(e){var t=e.filter;return Promise.all([ae.getUserLocale(),ae.getUsageData(t)]).then(function(e){var t=te(e,2),a=t[0],r=t[1];return function(e){ee.changeLanguage(e),Object(Q.a)(e)}(a),{usageData:r,locale:a}})}function ne(e){return e.category===S?ae.getFavorites(e):ae.getDataStatistics(e)}function oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function le(e,t,a,r,n,o,l){try{var i=e[o](l),u=i.value}catch(c){return void a(c)}i.done?t(u):Promise.resolve(u).then(r,n)}function ie(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function l(e){le(o,r,n,l,i,"next",e)}function i(e){le(o,r,n,l,i,"throw",e)}l(void 0)})}}var ue=function(e,t){return function(a,r){return a(ce(e,t)),se(r().filter,a)}},ce=function(e,t){return ve(O,{key:e,value:t})};function se(e,t){return fe.apply(this,arguments)}function fe(){return(fe=ie(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(ve(h)),e.prev=1,e.next=4,ne(t);case 4:r=e.sent,a(ve(E,r)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),a(ve(D,e.t0));case 12:case"end":return e.stop()}},e,this,[[1,8]])}))).apply(this,arguments)}function ve(e,t){return{type:e,payload:t}}a(195);function pe(e){var t=e.message;return o.a.createElement("div",{className:"uaa-error"},t)}pe.propTypes={message:Y.a.string};var be=pe,ye=a(175);a(196);var de=[{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"},{value:25,label:"25"}];function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var me,he=(me=ye.a,function(e){return o.a.createElement("div",{className:"uaa-fieldwrap"},o.a.createElement(me,e))});a(233);function Ee(e){return(Ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Oe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function we(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ke=c.a.t("Please use the format yyyy-mm-dd"),Re=c.a.t("End date is before start date"),Ce=c.a.t("Start date is after end date"),je=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(a=!(n=Ae(t).call(this,e))||"object"!==Ee(n)&&"function"!==typeof n?Te(r):n).state={startDateError:null,endDateError:null},a.onStartDateChange=a.onStartDateChange.bind(Te(Te(a))),a.onEndDateChange=a.onEndDateChange.bind(Te(Te(a))),a}var a,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,n["Component"]),a=t,(r=[{key:"onStartDateChange",value:function(e){this.onChange("startDate",e.target.value)}},{key:"onEndDateChange",value:function(e){this.onChange("endDate",e.target.value)}},{key:"onChange",value:function(e,t){var a,r=this.props,n=r.updateFilter,o=r.updateFilterAndGetData,l=Oe(r,["updateFilter","updateFilterAndGetData"]),i="".concat(e,"Error"),u="".concat("startDate"===e?"endDate":"startDate","Error"),c=this.getError(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){De(e,t,a[t])})}return e}({},l,De({},e,t)),e),s=this.state[u]===ke?ke:null;this.state[i]!==c&&this.setState((De(a={},i,c),De(a,u,s),a));c?n(e,t):o(e,t)}},{key:"getError",value:function(e,t){return/[0-9]{4}-[0-9]{2}-[0-9]{2}/.test(e[t])?e.endDate<e.startDate?"startDate"===t?Ce:Re:null:ke}},{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,r=this.state,n=r.startDateError,l=r.endDateError;return o.a.createElement("div",{className:"uaa-date-range"},o.a.createElement("div",{className:"uaa-date-field uaa-fieldwrap"},o.a.createElement("label",null,c.a.t("Start Date")),o.a.createElement("input",{className:"startDate",type:"date",value:t,onChange:this.onStartDateChange}),n&&o.a.createElement("span",{className:"uaa-date-input-error ".concat("startDate")},n)),o.a.createElement("div",{className:"uaa-date-field uaa-fieldwrap"},o.a.createElement("label",null,c.a.t("End date")),o.a.createElement("input",{className:"endDate",type:"date",value:a,onChange:this.onEndDateChange}),l&&o.a.createElement("span",{className:"uaa-date-input-error ".concat("endDate")},l)))}}])&&we(a.prototype,r),l&&we(a,l),t}();je.propTypes={startDate:Y.a.string,endDate:Y.a.string,updateFilter:Y.a.func.isRequired,updateFilterAndGetData:Y.a.func.isRequired};var Pe=je,Ve=Object(s.b)(Me("category"),{onChange:function(e,t){return function(a,r){var n=r().filter,o=n.category;if(a(ce(e,t)),function(e,t){return e!==t&&(t===S&&e!==S||e===S&&t!==S)}(o,t))return se(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){oe(e,t,a[t])})}return e}({},n,{category:t}),a)}}})(function(e){return o.a.createElement(he,ge({},e,{name:"category",list:k,label:c.a.t("Category"),kind:"filled"}))}),_e=Object(s.b)(function(e){return{startDate:e.filter.startDate,endDate:e.filter.endDate}},{updateFilter:ce,updateFilterAndGetData:ue})(Pe),Fe=Object(s.b)(Me("interval"),{onChange:ue})(function(e){return o.a.createElement(he,ge({},e,{name:"interval",list:V,label:c.a.t("Interval"),kind:"filled"}))}),Ne=Object(s.b)(Me("aggregationLevel"),{onChange:ce})(function(e){return o.a.createElement(he,ge({},e,{name:"aggregationLevel",list:F,label:c.a.t("Aggregation Level"),kind:"filled"}))}),Ie=Object(s.b)(Me("chartType"),{onChange:ce})(function(e){return o.a.createElement(he,ge({},e,{name:"chartType",list:I,label:c.a.t("Chart Type"),kind:"filled"}))}),Ue=Object(s.b)(Me("eventType"),{onChange:ue})(function(e){return o.a.createElement(he,ge({},e,{name:"eventType",list:L,label:c.a.t("Event Type"),kind:"filled"}))}),Le=Object(s.b)(Me("pageSize"),{onChange:ue})(function(e){return o.a.createElement(he,ge({},e,{name:"pageSize",list:de,label:c.a.t("Page Size"),kind:"filled"}))}),xe=Object(s.b)(Me("sortOrder"),{onChange:ue})(function(e){return o.a.createElement(he,ge({},e,{name:"sortOrder",list:M,label:c.a.t("Sort Order"),kind:"filled"}))});function Me(e){return function(t){return{value:t.filter[e]}}}a(234);function We(e){var t=e.showDateFields,a=e.showFavoriteViewsFields,r=e.showTopFavoritesFields;return o.a.createElement("aside",{className:"uaa-filter-sidebar"},o.a.createElement("h1",{className:"uaa-app-header"},c.a.t("Usage Analytics")),o.a.createElement(Ve,null),t&&o.a.createElement(n.Fragment,null,o.a.createElement(_e,null),o.a.createElement(Fe,null)),a&&o.a.createElement(n.Fragment,null,o.a.createElement(Ne,null),o.a.createElement(Ie,null)),r&&o.a.createElement(n.Fragment,null,o.a.createElement(Ue,null),o.a.createElement(Le,null),o.a.createElement(xe,null)))}We.propTypes={showDateFields:Y.a.bool,showFavoriteViewsFields:Y.a.bool,showTopFavoritesFields:Y.a.bool};var Ge,qe,ze,He,Je,Ye,Be=Object(s.b)(function(e){var t=e.filter.category;return{showDateFields:t!==S,showTopFavoritesFields:t===S,showFavoriteViewsFields:t===A}})(We),Ke=a(164),Qe={key:"date",label:c.a.t("Date")},$e={key:"mapViews",label:c.a.t("Map")},Xe={key:"chartViews",label:c.a.t("Chart")},Ze={key:"pivotTableViews",label:c.a.t("Pivot Table")},et={key:"eventReportViews",label:c.a.t("Event Report")},tt={key:"eventChartViews",label:c.a.t("Event Chart")},at={key:"dashboardViews",label:c.a.t("Dashboard")},rt={key:"dataSetReportViews",label:c.a.t("Data Set Report")},nt={key:"totalViews",label:c.a.t("Total")},ot={key:"averageMapViews",label:c.a.t("Average Map")},lt={key:"averageChartViews",label:c.a.t("Average Chart")},it={key:"averagePivotTableViews",label:c.a.t("Average Pivot Table")},ut={key:"averageEventReportViews",label:c.a.t("Average Event Report")},ct={key:"averageEventChartViews",label:c.a.t("Average Event Chart")},st={key:"averageDashboardViews",label:c.a.t("Average Dashboard")},ft={key:"averageViews",label:c.a.t("Average")},vt={key:"savedMaps",label:c.a.t("Maps")},pt={key:"savedCharts",label:c.a.t("Charts")},bt={key:"savedPivotTables",label:c.a.t("Pivot Tables")},yt={key:"savedEventReports",label:c.a.t("Event Reports")},dt={key:"savedEventCharts",label:c.a.t("Event Charts")},gt={key:"savedDashboards",label:c.a.t("Dashboards")},mt={key:"savedIndicators",label:c.a.t("Indicators")},ht={key:"activeUsers",label:c.a.t("Active Users")},Et={key:"users",label:c.a.t("Total Users")},Dt={key:"position",label:c.a.t("Position")},Ot={key:"name",label:c.a.t("Name")},wt={key:"views",label:c.a.t("Views")},At={key:"id",label:c.a.t("ID")},St={key:"created",label:c.a.t("Created")},Tt={key:"savedDataValues",label:c.a.t("Data Values")};function kt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Rt=[$e,Xe,Ze,et,tt,at,rt],Ct=[ot,lt,it,ut,ct,st],jt=[vt,pt,bt,yt,dt,gt,mt],Pt=[ht,Et],Vt=(kt(qe={},A,(kt(Ge={},_,[Qe].concat(Rt,[nt])),kt(Ge,"AVERAGE",[Qe].concat(Ct,[ft])),Ge)),kt(qe,"FAVORITES_SAVED",[Qe].concat(jt)),kt(qe,"USERS",[Qe].concat(Pt)),kt(qe,S,[Dt,Ot,wt,At,St]),kt(qe,"DATA_VALUES",[Qe,Tt]),qe),_t=(kt(Ye={},A,(kt(Je={},_,(kt(ze={},"ALL",Rt),kt(ze,N,[nt]),ze)),kt(Je,"AVERAGE",(kt(He={},"ALL",Ct),kt(He,N,[ft]),He)),Je)),kt(Ye,"FAVORITES_SAVED",jt),kt(Ye,"USERS",Pt),kt(Ye,"DATA_VALUES",[Tt]),Ye),Ft={yyyymmdd:{day:"numeric",month:"short",year:"numeric"},yyyymm:{month:"short",year:"numeric"}},Nt=c.a.t("Week");function It(e,t){var a=e.year,r=e.month,n=e.week,o=e.day;switch(t){case P:return a;case j:return Ut("".concat(a,"-").concat(r),Ft.yyyymm);case C:return"".concat(Nt," ").concat(n," / ").concat(a);case R:default:return Ut("".concat(a,"-").concat(r,"-").concat(o))}}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft.yyyymmdd,a=H.getState().locale||"en",r=new Date(e);return new Intl.DateTimeFormat(a,t).format(r)}var Lt=["#7cb5ec","#CC6600","#CCCC00","#66CC00","#ff0066","#000000","#00CCCC"],xt={animation:{duration:180},legend:{position:"bottom"},responsive:!0,tooltips:{mode:"nearest"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0},ticks:{maxRotation:45,minRotation:45}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:c.a.t("Values")},ticks:{suggestedMin:0,precision:0}}]}},Mt={backgroundColor:"rgba(0, 0, 0, 0)",fill:!1,lineTension:0};function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){Gt(e,t,a[t])})}return e}function Gt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var qt=1;function zt(e,t){for(var a=e.aggregationLevel,r=e.category,n=e.chartType,o=e.interval,l=[],i=[],u=T[r].label,c=T[r].subtitle,s=qt,f=null,v=r===A?_t[r][a][n]:_t[r],p=t.length,b=v.length,y=0;y<p;y++){var d=t[y];l.push(It(d,o));for(var g=0;g<b;g++){var m=v[g];0===y&&i.push(Wt({},Mt,{label:m.label,data:[],borderColor:Lt[g]}));var h=d[m.key];h>s&&(s=h),(null===f||h<f)&&(f=h),i[g].data.push(h)}}return xt.scales.yAxes[0].ticks.suggestedMax=s,xt.scales.yAxes[0].ticks.suggestedMin=f,{data:{labels:l,datasets:i},options:xt,title:u,subtitle:c}}a(373);var Ht="uua-data-container uua-chart-container",Jt=" uua-data-container--loading";function Yt(e){var t,a=e.shouldHide,r=e.loading,l=e.chartConfig;if(a)return null;if(r)t=o.a.createElement(B.a,{overlay:!0});else{var i=l.options,u=l.data,c=l.title,s=l.subtitle;t=o.a.createElement(n.Fragment,null,o.a.createElement("h4",{className:"uaa-chart-title"},c),o.a.createElement("h6",{className:"uaa-chart-subtitle"},s),o.a.createElement(Ke.a,{data:u,options:i}))}var f=r?Ht+Jt:Ht;return o.a.createElement("div",{className:f},t)}Yt.propTypes={chartConfig:Y.a.object,shouldHide:Y.a.bool.isRequired,loading:Y.a.bool.isRequired};var Bt=Object(s.b)(function(e){var t=e.usageData,a=e.filter,r=a.category===S||t===d,n=t===b;return{shouldHide:r,loading:n,chartConfig:r||n?null:zt(a,t)}})(Yt),Kt=(a(375),"uua-data-container"),Qt=" uua-data-container--loading",$t=function(e){var t=e.headers;return o.a.createElement("thead",null,o.a.createElement("tr",null,t.map(function(e,t){return o.a.createElement("th",{key:"h-".concat(t)},e)})))},Xt=function(e){var t=e.rows;return o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement(Zt,{key:"row-".concat(t),cells:e})}))},Zt=function(e){var t=e.cells;return o.a.createElement("tr",null,t.map(function(e,t){return o.a.createElement("td",{key:"cell-".concat(t)},e)}))};function ea(e){var t,a=e.error,r=e.loading,n=e.tableData;if(a)t=o.a.createElement(be,{message:c.a.t("There was an error retrieving the usage analytics data")});else if(r)t=o.a.createElement(B.a,{overlay:!0});else{var l=n.headers,i=n.rows;t=o.a.createElement("table",{className:"uaa-data-table"},o.a.createElement($t,{headers:l}),o.a.createElement(Xt,{rows:i}))}var u=r?Kt+Qt:Kt;return o.a.createElement("div",{className:u},t)}function ta(e,t){var a=e.aggregationLevel,r=e.category,n=e.interval,o=r===A?Vt[r][a]:Vt[r];return{headers:o.map(function(e){return e.label}),rows:t.map(function(e){return o.map(function(t){return t.key===Qe.key?It(e,n):t.key===St.key?Ut(e[t.key]):e[t.key]})})}}ea.propTypes={error:Y.a.bool.isRequired,loading:Y.a.bool.isRequired,tableData:Y.a.object},$t.propTypes={headers:Y.a.arrayOf(Y.a.string).isRequired},Xt.propTypes={rows:Y.a.arrayOf(Y.a.array).isRequired},Zt.propTypes={cells:Y.a.arrayOf(Y.a.oneOfType([Y.a.string,Y.a.number])).isRequired};var aa=Object(s.b)(function(e){var t=e.usageData,a=e.filter,r=t===d,n=t===b;return{error:r,loading:n,tableData:n||r?null:ta(a,t)}})(ea);function ra(e){return(ra="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function na(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t){return!t||"object"!==ra(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ua=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oa(this,la(t).apply(this,arguments))}var a,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){this.props.initApp()}},{key:"render",value:function(){var e=this.props.appStatus;return e===b?o.a.createElement(B.b,{overlay:!0,size:"large"}):e===d?o.a.createElement(be,{message:c.a.t("ERROR: Could not load app")}):o.a.createElement("main",{className:"uaa-container"},o.a.createElement(Be,null),o.a.createElement("section",{className:"uaa-content"},o.a.createElement(Bt,null),o.a.createElement(aa,null)))}}])&&na(a.prototype,r),l&&na(a,l),t}();ua.propTypes={initApp:Y.a.func,appStatus:Y.a.string};var ca=Object(s.b)(function(e){return{appStatus:e.appStatus}},{initApp:function(){return function(){var e=ie(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(a());case 3:r=e.sent,t(ve(g,r)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),t(ve(m,e.t0));case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()}})(ua);a(376),a(377),a(17);var sa=function(){return o.a.createElement(s.a,{store:H},o.a.createElement(f.a,{appName:c.a.t("Usage Analytics")}),o.a.createElement(ca,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(sa,null),document.getElementById("uaa-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[179,1,2]]]);
//# sourceMappingURL=main.afa26b0c.chunk.js.map