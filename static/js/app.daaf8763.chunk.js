(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[127],{203:function(e,a,t){e.exports={container:"LayoutContainer_container__2gt-1"}},204:function(e,a,t){e.exports={sidebar:"LayoutSidebar_sidebar__38x-X"}},205:function(e,a,t){e.exports={content:"LayoutContent_content__3pEdj"}},206:function(e,a,t){e.exports={title:"AppTitle_title__mjsfQ"}},300:function(e,a,t){e.exports={title:"ChartHeader_title__ff7A2",subtitle:"ChartHeader_subtitle__2JAVZ"}},301:function(e,a,t){e.exports={outerContainer:"ChartWrapper_outerContainer__2BU2T",innerContainer:"ChartWrapper_innerContainer__5ZEsg",chartContainer:"ChartWrapper_chartContainer__jt1gD"}},302:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return va}));var r=t(2),l=t.n(r),n=t(7),s=t(6),o=t.n(s);const c="DATA_VALUES",i="FAVORITES_SAVED",v="FAVORITE_VIEWS",d="TOP_FAVORITES",m="USERS";var E=[{value:v,label:o.a.t("Favorite views"),subtitle:o.a.t("Number of times users looked at analysis favorites")},{value:i,label:o.a.t("Favorites saved"),subtitle:o.a.t("Number of analysis favorites created by users")},{value:m,label:o.a.t("Users"),subtitle:o.a.t("Number of users in the system")},{value:d,label:o.a.t("Top favorites")},{value:c,label:o.a.t("Data values"),subtitle:o.a.t("Number of data values saved in the system")}];const u="WEEK",b="MONTH",p="YEAR";var g=[{value:"DAY",label:o.a.t("Day")},{value:u,label:o.a.t("Week")},{value:b,label:o.a.t("Month")},{value:p,label:o.a.t("Year")}];const D="SUM";var h=[{value:D,label:o.a.t("Sum")},{value:"AVERAGE",label:o.a.t("Average")}];const y="ALL";var S=[{value:y,label:o.a.t("All")},{value:"TOTAL",label:o.a.t("Total")}];const w="CHART_VIEW";var C=[{value:w,label:o.a.t("Chart")},{value:"MAP_VIEW",label:o.a.t("Map")},{value:"REPORT_TABLE_VIEW",label:o.a.t("Report table")},{value:"EVENT_REPORT_VIEW",label:o.a.t("Event report")},{value:"EVENT_CHART_VIEW",label:o.a.t("Event chart")},{value:"DASHBOARD_VIEW",label:o.a.t("Dashboard")},{value:"DATA_SET_REPORT_VIEW",label:o.a.t("Data set report")}];var T=[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"}];var I=[{value:"ASC",label:o.a.t("Ascending")},{value:"DESC",label:o.a.t("Descending")}];var V=({aggregation:e,setAggregation:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Aggregation Level")},h.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a}))));var f=({chartType:e,setChartType:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Chart Type")},S.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a})))),A=t(11),R=t.n(A);const O="YYYY-MM-DD",_=(e,a)=>{const t=R()(e,O),r=R()(a,O);return t.isAfter(r)?o.a.t("Start date should be before end date"):""},k=e=>{if(!e)return o.a.t("Please fill in a date");return R()(e,O,!0).isValid()?"":o.a.t("Please use the format yyyy-mm-dd")};var z=({startDate:e,setStartDate:a,startDateError:t,setStartDateError:r})=>l.a.createElement(n.k,{label:o.a.t("Start Date"),type:"date",value:e,error:!!t,validationText:t,onChange:({value:e})=>{r(k(e)),a(e)}});var M=({endDate:e,setEndDate:a,endDateError:t,setEndDateError:r})=>l.a.createElement(n.k,{label:o.a.t("End Date"),type:"date",value:e,error:!!t,validationText:t,onChange:({value:e})=>{r(k(e)),a(e)}});var Y=({startDate:e,setStartDate:a,endDate:t,setEndDate:n})=>{const[s,o]=Object(r.useState)(""),[c,i]=Object(r.useState)(""),[v,d]=Object(r.useState)(""),m=(e,a)=>{d(_(e,a))};return l.a.createElement("div",null,l.a.createElement(z,{startDate:e,setStartDate:e=>{m(e,t),a(e)},startDateError:s||v,setStartDateError:o}),l.a.createElement(M,{endDate:t,setEndDate:a=>{m(e,a),n(a)},endDateError:c||v,setEndDateError:i}))};var P=({eventType:e,setEventType:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Event Type")},C.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a}))));var j=({interval:e,setReportInterval:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Interval")},g.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a}))));var N=({pageSize:e,setPageSize:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Page Size")},T.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a}))));var x=({sortOrder:e,setSortOrder:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Sort Order")},I.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a}))));var F=({eventType:e,pageSize:a,setEventType:t,setPageSize:r,setSortOrder:n,sortOrder:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(P,{eventType:e,setEventType:t}),l.a.createElement(N,{pageSize:a,setPageSize:r}),l.a.createElement(x,{sortOrder:s,setSortOrder:n}));var U=({endDate:e,interval:a,setEndDate:t,setReportInterval:r,setStartDate:n,startDate:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{startDate:s,setStartDate:n,endDate:e,setEndDate:t}),l.a.createElement(j,{interval:a,setReportInterval:r}));var W=({endDate:e,interval:a,setEndDate:t,setReportInterval:r,setStartDate:n,startDate:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{startDate:s,setStartDate:n,endDate:e,setEndDate:t}),l.a.createElement(j,{interval:a,setReportInterval:r}));var L=({endDate:e,interval:a,setEndDate:t,setReportInterval:r,setStartDate:n,startDate:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{startDate:s,setStartDate:n,endDate:e,setEndDate:t}),l.a.createElement(j,{interval:a,setReportInterval:r}));var H=({aggregation:e,chartType:a,endDate:t,interval:r,setAggregation:n,setChartType:s,setEndDate:o,setReportInterval:c,setStartDate:i,startDate:v})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{startDate:v,setStartDate:i,endDate:t,setEndDate:o}),l.a.createElement(j,{interval:r,setReportInterval:c}),l.a.createElement(V,{aggregation:e,setAggregation:n}),l.a.createElement(f,{chartType:a,setChartType:s}));var G=({aggregation:e,category:a,chartType:t,endDate:r,eventType:s,interval:E,pageSize:u,setAggregation:b,setChartType:p,setEndDate:g,setEventType:D,setReportInterval:h,setPageSize:y,setSortOrder:S,setStartDate:w,sortOrder:C,startDate:T})=>{switch(a){case d:return l.a.createElement(F,{eventType:s,setEventType:D,pageSize:u,setPageSize:y,sortOrder:C,setSortOrder:S});case v:return l.a.createElement(H,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h,aggregation:e,setAggregation:b,chartType:t,setChartType:p});case c:return l.a.createElement(U,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h});case m:return l.a.createElement(W,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h});case i:return l.a.createElement(L,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h});default:return l.a.createElement(n.q,{error:!0,title:o.a.t("Unrecognized category")},o.a.t("The chosen category was not recognized."))}},q=t(203),B=t.n(q);var J=({children:e})=>l.a.createElement("main",{className:B.a.container},e),Z=t(204),K=t.n(Z);var Q=({children:e})=>l.a.createElement("aside",{className:K.a.sidebar},e),X=t(205),$=t.n(X);var ee=({children:e})=>l.a.createElement("section",{className:$.a.content},e);var ae=({category:e,setCategory:a})=>l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{a(e)},label:o.a.t("Category")},E.map((({label:e,value:a})=>l.a.createElement(n.s,{label:e,key:a,value:a})))),te=t(206),re=t.n(te);var le=()=>l.a.createElement("h1",{className:re.a.title},o.a.t("Usage Analytics"));const ne=({year:e,month:a,week:t,day:r},l)=>{switch(l){case p:return R()({year:e}).format("YYYY");case b:{const t=a-1,r="MMM YYYY";return R()({year:e,month:t}).format(r)}case u:{const a="[".concat(o.a.t("Week"),"] [").concat(t,"] / YYYY");return R()({year:e}).format(a)}case"DAY":{const t=a-1,l="MMM D, YYYY";return R()({year:e,month:t,day:r}).format(l)}}};var se=({children:e})=>l.a.createElement("div",null,l.a.createElement(n.d,null,e));var oe=({data:e,interval:a})=>l.a.createElement(se,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,o.a.t("Date")),l.a.createElement(n.w,null,o.a.t("Data Values")))),l.a.createElement(n.u,null,e.map((({year:e,month:t,week:r,day:s,savedDataValues:o})=>{const c=ne({year:e,month:t,week:r,day:s},a);return l.a.createElement(n.y,{key:c},l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,o))})))));var ce=({data:e,interval:a})=>l.a.createElement(se,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,o.a.t("Date")),l.a.createElement(n.w,null,o.a.t("Active Users")),l.a.createElement(n.w,null,o.a.t("Total Users")))),l.a.createElement(n.u,null,e.map((({year:e,month:t,week:r,day:s,activeUsers:o,users:c})=>{const i=ne({year:e,month:t,week:r,day:s},a);return l.a.createElement(n.y,{key:i},l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,c))})))));var ie=({data:e,interval:a})=>l.a.createElement(se,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,o.a.t("Date")),l.a.createElement(n.w,null,o.a.t("Maps")),l.a.createElement(n.w,null,o.a.t("Charts")),l.a.createElement(n.w,null,o.a.t("Pivot Tables")),l.a.createElement(n.w,null,o.a.t("Event Reports")),l.a.createElement(n.w,null,o.a.t("Event Charts")),l.a.createElement(n.w,null,o.a.t("Dashboards")),l.a.createElement(n.w,null,o.a.t("Indicators")))),l.a.createElement(n.u,null,e.map((({year:e,month:t,week:r,day:s,savedMaps:o,savedCharts:c,savedPivotTables:i,savedEventReports:v,savedEventCharts:d,savedDashboards:m,savedIndicators:E})=>{const u=ne({year:e,month:t,week:r,day:s},a);return l.a.createElement(n.y,{key:u},l.a.createElement(n.v,null,u),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,v),l.a.createElement(n.v,null,d),l.a.createElement(n.v,null,m),l.a.createElement(n.v,null,E))})))));var ve=({data:e,interval:a})=>l.a.createElement(se,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,o.a.t("Date")),l.a.createElement(n.w,null,o.a.t("Map")),l.a.createElement(n.w,null,o.a.t("Chart")),l.a.createElement(n.w,null,o.a.t("Pivot Table")),l.a.createElement(n.w,null,o.a.t("Event Report")),l.a.createElement(n.w,null,o.a.t("Event Chart")),l.a.createElement(n.w,null,o.a.t("Dashboard")),l.a.createElement(n.w,null,o.a.t("Data Set Report")),l.a.createElement(n.w,null,o.a.t("Total")))),l.a.createElement(n.u,null,e.map((({year:e,month:t,week:r,day:s,mapViews:o,chartViews:c,pivotTableViews:i,eventReportViews:v,eventChartViews:d,dashboardViews:m,dataSetReportViews:E,totalViews:u})=>{const b=ne({year:e,month:t,week:r,day:s},a);return l.a.createElement(n.y,{key:b},l.a.createElement(n.v,null,b),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,v),l.a.createElement(n.v,null,d),l.a.createElement(n.v,null,m),l.a.createElement(n.v,null,E),l.a.createElement(n.v,null,u))})))));var de=({data:e,interval:a})=>l.a.createElement(se,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,o.a.t("Date")),l.a.createElement(n.w,null,o.a.t("Average Map")),l.a.createElement(n.w,null,o.a.t("Average Chart")),l.a.createElement(n.w,null,o.a.t("Average Pivot Table")),l.a.createElement(n.w,null,o.a.t("Average Event Report")),l.a.createElement(n.w,null,o.a.t("Average Event Chart")),l.a.createElement(n.w,null,o.a.t("Average Dashboard")),l.a.createElement(n.w,null,o.a.t("Average")))),l.a.createElement(n.u,null,e.map((({year:e,month:t,week:r,day:s,averageMapViews:o,averageChartViews:c,averagePivotTableViews:i,averageEventReportViews:v,averageEventChartViews:d,averageDashboardViews:m,averageViews:E})=>{const u=ne({year:e,month:t,week:r,day:s},a);return l.a.createElement(n.y,{key:u},l.a.createElement(n.v,null,u),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,v),l.a.createElement(n.v,null,d),l.a.createElement(n.v,null,m),l.a.createElement(n.v,null,E))})))));var me=({data:e})=>l.a.createElement(se,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,o.a.t("Position")),l.a.createElement(n.w,null,o.a.t("Name")),l.a.createElement(n.w,null,o.a.t("Views")),l.a.createElement(n.w,null,o.a.t("ID")),l.a.createElement(n.w,null,o.a.t("Created")))),l.a.createElement(n.u,null,e.map((({position:e,name:a,views:t,id:r,created:s})=>{const o=R()(s).format("MMM D, YYYY");return l.a.createElement(n.y,{key:r},l.a.createElement(n.v,null,e),l.a.createElement(n.v,null,a),l.a.createElement(n.v,null,t),l.a.createElement(n.v,null,r),l.a.createElement(n.v,null,o))}))))),Ee=t(8);const ue={favorites:{resource:"dataStatistics/favorites",params:({eventType:e,pageSize:a,sortOrder:t,fields:r})=>({eventType:e,pageSize:a,sortOrder:t,fields:r})}};var be=({eventType:e,pageSize:a,sortOrder:t,fields:s,children:c})=>{const{loading:i,error:v,data:d,called:m,refetch:E}=Object(Ee.d)(ue,{lazy:!0,variables:{eventType:e,pageSize:a,sortOrder:t,fields:s}});if(Object(r.useEffect)((()=>{E({eventType:e,pageSize:a,sortOrder:t,fields:s})}),[e,a,t,s]),!m||i)return l.a.createElement(n.g,null,l.a.createElement(n.e,null,l.a.createElement(n.f,null)));if(v){const e=o.a.t("Error whilst fetching data"),a=o.a.t('The error message was: "{{ MESSAGE }}".',{MESSAGE:v.message,nsSeparator:">"}),t=o.a.t("There was no error message included with the error.");return l.a.createElement(n.q,{error:!0,title:e},v.message?a:t)}return c(d.favorites)};const pe={dataStatistics:{resource:"dataStatistics",params:({startDate:e,endDate:a,interval:t,fields:r})=>({startDate:e,endDate:a,interval:t,fields:r})}};var ge=({children:e,endDate:a,fields:t,interval:s,isIntervalStale:c,setIsIntervalStale:i,startDate:v})=>{const d=()=>i(!1),{loading:m,error:E,data:u,called:b,refetch:p}=Object(Ee.d)(pe,{lazy:!0,variables:{startDate:v,endDate:a,interval:s,fields:t},onComplete:d,onError:d});if(Object(r.useEffect)((()=>{((e,a)=>{const t=!!k(e),r=!!k(a),l=!!_(e,a);return!(t||r||l)})(v,a)&&p({startDate:v,endDate:a,interval:s,fields:t})}),[v,a,s,t]),!b||m||c)return l.a.createElement(n.g,null,l.a.createElement(n.e,null,l.a.createElement(n.f,null)));if(E){const e=o.a.t("Error whilst fetching data"),a=o.a.t('The error message was: "{{ MESSAGE }}".',{MESSAGE:E.message,nsSeparator:">"}),t=o.a.t("There was no error message included with the error.");return l.a.createElement(n.q,{error:!0,title:e},E.message?a:t)}return e(u.dataStatistics)};const De=["position","name","views","id","created"];var he=({eventType:e,pageSize:a,sortOrder:t})=>l.a.createElement(be,{eventType:e,fields:De,pageSize:a,sortOrder:t},(e=>l.a.createElement(me,{data:e}))),ye=t(169),Se=t(300),we=t.n(Se);var Ce=({title:e,subtitle:a})=>l.a.createElement("header",null,l.a.createElement("h4",{className:we.a.title},e),l.a.createElement("h6",{className:we.a.subtitle},a)),Te=t(301),Ie=t.n(Te);var Ve=({children:e,title:a,subtitle:t})=>l.a.createElement("div",{className:Ie.a.outerContainer},l.a.createElement(n.d,null,l.a.createElement("div",{className:Ie.a.innerContainer},l.a.createElement(Ce,{title:a,subtitle:t}),l.a.createElement("div",{className:Ie.a.chartContainer},e)))),fe=t(0);const{blue300:Ae,yellow700:Re,yellow200:Oe,green400:_e,red400:ke,grey900:ze,teal600:Me}=fe.colors,Ye=Ae,Pe=Re,je=Oe,Ne=_e,xe=ke,Fe=ze,Ue=Me,We=e=>{const a=E.find((a=>a.value===e));return{title:a.label,subtitle:a.subtitle}},Le=(e,a)=>e.map((({year:e,month:t,week:r,day:l})=>ne({year:e,month:t,week:r,day:l},a)));var He={animation:{duration:180},legend:{position:"bottom"},maintainAspectRatio:!1,elements:{line:{tension:0,fill:!1,backgroundColor:"rgba(0, 0, 0, 0)"}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:o.a.t("Values")}}]}};var Ge=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(m),n=Le(e,a),s=(e=>[{label:o.a.t("Active Users"),data:e.map((e=>e.activeUsers)),borderColor:Ye},{label:o.a.t("Total Users"),data:e.map((e=>e.users)),borderColor:Pe}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};var qe=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(c),n=Le(e,a),s=(e=>[{label:o.a.t("Data Values"),data:e.map((e=>e.savedDataValues)),borderColor:Ye}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};var Be=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(i),n=Le(e,a),s=(e=>[{label:o.a.t("Maps"),data:e.map((e=>e.savedMaps)),borderColor:Ye},{label:o.a.t("Charts"),data:e.map((e=>e.savedCharts)),borderColor:Pe},{label:o.a.t("Pivot Tables"),data:e.map((e=>e.savedPivotTables)),borderColor:je},{label:o.a.t("Event Reports"),data:e.map((e=>e.savedEventReports)),borderColor:Ne},{label:o.a.t("Event Charts"),data:e.map((e=>e.savedEventCharts)),borderColor:xe},{label:o.a.t("Dashboards"),data:e.map((e=>e.savedDashboards)),borderColor:Fe},{label:o.a.t("Indicators"),data:e.map((e=>e.savedIndicators)),borderColor:Ue}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};var Je=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(v),n=Le(e,a),s=(e=>[{label:o.a.t("Map"),data:e.map((e=>e.mapViews)),borderColor:Ye},{label:o.a.t("Chart"),data:e.map((e=>e.chartViews)),borderColor:Pe},{label:o.a.t("Pivot Table"),data:e.map((e=>e.pivotTableViews)),borderColor:je},{label:o.a.t("Event Report"),data:e.map((e=>e.eventReportViews)),borderColor:Ne},{label:o.a.t("Event Chart"),data:e.map((e=>e.eventChartViews)),borderColor:xe},{label:o.a.t("Dashboard"),data:e.map((e=>e.dashboardViews)),borderColor:Fe},{label:o.a.t("Data Set Report"),data:e.map((e=>e.dataSetReportViews)),borderColor:Ue}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};var Ze=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(v),n=Le(e,a),s=(e=>[{label:o.a.t("Total"),data:e.map((e=>e.totalViews)),borderColor:Ye}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};var Ke=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(v),n=Le(e,a),s=(e=>[{label:o.a.t("Average Map"),data:e.map((e=>e.averageMapViews)),borderColor:Ye},{label:o.a.t("Average Chart"),data:e.map((e=>e.averageChartViews)),borderColor:Pe},{label:o.a.t("Average Pivot Table"),data:e.map((e=>e.averagePivotTableViews)),borderColor:je},{label:o.a.t("Average Event Report"),data:e.map((e=>e.averageEventReportViews)),borderColor:Ne},{label:o.a.t("Average Event Chart"),data:e.map((e=>e.averageEventChartViews)),borderColor:xe},{label:o.a.t("Average Dashboard"),data:e.map((e=>e.averageDashboardViews)),borderColor:Fe}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};var Qe=({data:e,interval:a})=>{const{title:t,subtitle:r}=We(v),n=Le(e,a),s=(e=>[{label:o.a.t("Average"),data:e.map((e=>e.averageViews)),borderColor:Ye}])(e);return l.a.createElement(Ve,{title:t,subtitle:r},l.a.createElement(ye.a,{data:{labels:n,datasets:s},options:He}))};const Xe=["year","month","week","day","savedDataValues"];var $e=({endDate:e,interval:a,isIntervalStale:t,setIsIntervalStale:n,startDate:s})=>l.a.createElement(ge,{endDate:e,fields:Xe,interval:a,isIntervalStale:t,setIsIntervalStale:n,startDate:s},(e=>l.a.createElement(r.Fragment,null,l.a.createElement(qe,{data:e,interval:a}),l.a.createElement(oe,{data:e,interval:a}))));const ea=["year","month","week","day","activeUsers","users"];var aa=({endDate:e,interval:a,isIntervalStale:t,setIsIntervalStale:n,startDate:s})=>l.a.createElement(ge,{endDate:e,fields:ea,interval:a,isIntervalStale:t,setIsIntervalStale:n,startDate:s},(e=>l.a.createElement(r.Fragment,null,l.a.createElement(Ge,{data:e,interval:a}),l.a.createElement(ce,{data:e,interval:a}))));const ta=["year","month","week","day","savedMaps","savedCharts","savedPivotTables","savedEventReports","savedEventCharts","savedDashboards","savedIndicators"];var ra=({endDate:e,interval:a,isIntervalStale:t,setIsIntervalStale:n,startDate:s})=>l.a.createElement(ge,{endDate:e,fields:ta,interval:a,isIntervalStale:t,setIsIntervalStale:n,startDate:s},(e=>l.a.createElement(r.Fragment,null,l.a.createElement(Be,{data:e,interval:a}),l.a.createElement(ie,{data:e,interval:a}))));const la=["year","month","week","day"],na=[...la,"mapViews","chartViews","pivotTableViews","eventReportViews","eventChartViews","dashboardViews","dataSetReportViews","totalViews"],sa=[...la,"averageMapViews","averageChartViews","averagePivotTableViews","averageEventReportViews","averageEventChartViews","averageDashboardViews","averageViews"];var oa=({aggregation:e,chartType:a,endDate:t,interval:n,isIntervalStale:s,setIsIntervalStale:o,startDate:c})=>{const i=a===y;return e===D?l.a.createElement(ge,{endDate:t,fields:na,interval:n,isIntervalStale:s,setIsIntervalStale:o,startDate:c},(e=>l.a.createElement(r.Fragment,null,i?l.a.createElement(Je,{data:e,interval:n}):l.a.createElement(Ze,{data:e,interval:n}),l.a.createElement(ve,{data:e,interval:n})))):l.a.createElement(ge,{endDate:t,fields:sa,interval:n,isIntervalStale:s,setIsIntervalStale:o,startDate:c},(e=>l.a.createElement(r.Fragment,null,i?l.a.createElement(Ke,{data:e,interval:n}):l.a.createElement(Qe,{data:e,interval:n}),l.a.createElement(de,{data:e,interval:n}))))};var ca=({aggregation:e,category:a,chartType:t,endDate:r,eventType:s,interval:E,isIntervalStale:u,pageSize:b,setIsIntervalStale:p,sortOrder:g,startDate:D})=>{switch(a){case d:return l.a.createElement(he,{eventType:s,pageSize:b,sortOrder:g});case c:return l.a.createElement($e,{endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});case m:return l.a.createElement(aa,{endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});case i:return l.a.createElement(ra,{endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});case v:return l.a.createElement(oa,{aggregation:e,chartType:t,endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});default:return l.a.createElement(n.q,{error:!0,title:o.a.t("Unrecognized category")},o.a.t("The chosen category was not recognized."))}};var ia=()=>{const e=Date.now(),a="YYYY-MM-DD";return{initialStartDate:R()(e).subtract(4,"months").format(a),initialEndDate:R()(e).format(a)}};var va=()=>{const{initialStartDate:e,initialEndDate:a}=ia(),[t,s]=Object(r.useState)(D),[o,c]=Object(r.useState)(v),[i,d]=Object(r.useState)(y),[m,E]=Object(r.useState)(a),[b,p]=Object(r.useState)(w),[g,h]=Object(r.useState)("25"),[S,C]=Object(r.useState)("ASC"),[T,I]=Object(r.useState)(e),[V,f]=Object(r.useState)(u),[A,R]=Object(r.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(n.i,{spacers:!0,colors:!0}),l.a.createElement(J,null,l.a.createElement(Q,null,l.a.createElement(le,null),l.a.createElement(ae,{category:o,setCategory:c}),l.a.createElement(G,{aggregation:t,category:o,chartType:i,endDate:m,eventType:b,interval:V,pageSize:g,setAggregation:s,setChartType:d,setEndDate:E,setEventType:p,setReportInterval:e=>{R(!0),f(e)},setPageSize:h,setSortOrder:C,setStartDate:I,sortOrder:S,startDate:T})),l.a.createElement(ee,null,l.a.createElement(ca,{aggregation:t,category:o,chartType:i,endDate:m,eventType:b,interval:V,isIntervalStale:A,pageSize:g,setIsIntervalStale:R,sortOrder:S,startDate:T}))))}}}]);
//# sourceMappingURL=app.daaf8763.chunk.js.map