(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[127],{176:function(e,t,a){e.exports={container:"LayoutContainer_container__2gt-1"}},177:function(e,t,a){e.exports={sidebar:"LayoutSidebar_sidebar__38x-X"}},178:function(e,t,a){e.exports={content:"LayoutContent_content__3pEdj"}},179:function(e,t,a){e.exports={title:"AppTitle_title__mjsfQ"}},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var l=a(7),n=a(1),r=a.n(n),u=a(21),c=a.n(u),s=a(6),i=a.n(s),o=a(14),v=[{value:"FAVORITE_VIEWS",label:i.a.t("Favorite views"),subtitle:i.a.t("Number of times users looked at analysis favorites")},{value:"FAVORITES_SAVED",label:i.a.t("Favorites saved"),subtitle:i.a.t("Number of analysis favorites created by users")},{value:"USERS",label:i.a.t("Users"),subtitle:i.a.t("Number of users in the system")},{value:"TOP_FAVORITES",label:i.a.t("Top favorites")},{value:"DATA_VALUES",label:i.a.t("Data values"),subtitle:i.a.t("Number of data values saved in the system")}],E=function(e){var t=e.category,a=e.setCategory;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Category")},v.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},b=function(e){var t=e.startDate,a=e.setStartDate,l=e.endDate,n=e.setEndDate;return r.a.createElement("div",{className:"uaa-date-range"},r.a.createElement(o.f,{label:i.a.t("Start Date"),type:"date",value:t,onChange:function(e){var t=e.value;return a(t)}}),r.a.createElement(o.f,{label:i.a.t("End Date"),type:"date",value:l,onChange:function(e){var t=e.value;return n(t)}}))},m=[{value:"DAY",label:i.a.t("Day")},{value:"WEEK",label:i.a.t("Week")},{value:"MONTH",label:i.a.t("Month")},{value:"YEAR",label:i.a.t("Year")}],d=function(e){var t=e.interval,a=e.setInterval;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Interval")},m.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},f=[{value:"SUM",label:i.a.t("Sum")},{value:"AVERAGE",label:i.a.t("Average")}],p=function(e){var t=e.aggregation,a=e.setAggregation;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Aggregation level")},f.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},g=[{value:"ALL",label:i.a.t("All")},{value:"TOTAL",label:i.a.t("Total")}],S=function(e){var t=e.chartType,a=e.setChartType;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Chart type")},g.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},O=[{value:"CHART_VIEW",label:i.a.t("Chart")},{value:"MAP_VIEW",label:i.a.t("Map")},{value:"REPORT_TABLE_VIEW",label:i.a.t("Report table")},{value:"EVENT_REPORT_VIEW",label:i.a.t("Event report")},{value:"EVENT_CHART_VIEW",label:i.a.t("Event chart")},{value:"DASHBOARD_VIEW",label:i.a.t("Dashboard")},{value:"DATA_SET_REPORT_VIEW",label:i.a.t("Data set report")}],y=function(e){var t=e.eventType,a=e.setEventType;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Event type")},O.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},T=[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"}],D=function(e){var t=e.pageSize,a=e.setPageSize;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Page size")},T.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},h=[{value:"ASC",label:i.a.t("Ascending")},{value:"DESC",label:i.a.t("Descending")}],A=function(e){var t=e.sortOrder,a=e.setSortOrder;return r.a.createElement(o.l,{selected:t,onChange:function(e){var t=e.selected;a(t)},label:i.a.t("Sort order")},h.map((function(e){var t=e.label,a=e.value;return r.a.createElement(o.m,{label:t,key:a,value:a})})))},_=a(176),j=a.n(_),C=function(e){var t=e.children;return r.a.createElement("main",{className:j.a.container},t)},V=a(177),I=a.n(V),R=function(e){var t=e.children;return r.a.createElement("aside",{className:I.a.sidebar},t)},N=a(178),W=a.n(N),z=function(e){var t=e.children;return r.a.createElement("section",{className:W.a.content},t)},L=function(){return null},k=function(){return null},F=a(179),Y=a.n(F),M=function(){return r.a.createElement("h1",{className:Y.a.title},i.a.t("Usage Analytics"))},P=a(16),U={favorites:{resource:"dataStatistics/favorites",params:function(e){return{eventType:e.eventType,pageSize:e.pageSize,sortOrder:e.sortOrder}}}},x=function(e){var t=e.eventType,a=e.pageSize,l=e.sortOrder,u=e.children,c=Object(P.c)(U,{lazy:!0,variables:{eventType:t,pageSize:a,sortOrder:l}}),s=c.loading,i=c.error,o=c.data,v=c.called,E=c.refetch;return Object(n.useEffect)((function(){E({eventType:t,pageSize:a,sortOrder:l})}),[t,a,l]),!v||s?r.a.createElement("div",null,"Loading"):i?r.a.createElement("div",null,i.message||"Error"):u(o.favorites)},H={dataStatistics:{resource:"dataStatistics",params:function(e){return{startDate:e.startDate,endDate:e.endDate,interval:e.interval}}}},J=function(e){var t=e.startDate,a=e.endDate,l=e.interval,u=e.children,c=Object(P.c)(H,{lazy:!0,variables:{startDate:t,endDate:a,interval:l}}),s=c.loading,i=c.error,o=c.data,v=c.called,E=c.refetch;return Object(n.useEffect)((function(){E({startDate:t,endDate:a,interval:l})}),[t,a,l]),!v||s?r.a.createElement("div",null,"Loading"):i?r.a.createElement("div",null,i.message||"Error"):u(o.dataStatistics)},w=(a(180),function(){var e=c()().subtract(4,"months").format("YYYY-MM-DD"),t=c()().format("YYYY-MM-DD"),a=Object(n.useState)("FAVORITE_VIEWS"),u=Object(l.a)(a,2),s=u[0],i=u[1],o=Object(n.useState)(e),v=Object(l.a)(o,2),m=v[0],f=v[1],g=Object(n.useState)(t),O=Object(l.a)(g,2),T=O[0],h=O[1],_=Object(n.useState)("WEEK"),j=Object(l.a)(_,2),V=j[0],I=j[1],N=Object(n.useState)("SUM"),W=Object(l.a)(N,2),F=W[0],Y=W[1],P=Object(n.useState)("ALL"),U=Object(l.a)(P,2),H=U[0],w=U[1],B=Object(n.useState)("CHART_VIEW"),K=Object(l.a)(B,2),G=K[0],Q=K[1],X=Object(n.useState)("25"),q=Object(l.a)(X,2),Z=q[0],$=q[1],ee=Object(n.useState)("ASC"),te=Object(l.a)(ee,2),ae=te[0],le=te[1],ne="TOP_FAVORITES"===s,re="FAVORITE_VIEWS"===s;return r.a.createElement(C,null,r.a.createElement(R,null,r.a.createElement(M,null),r.a.createElement(E,{category:s,setCategory:i}),!ne&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{startDate:m,setStartDate:f,endDate:T,setEndDate:h}),r.a.createElement(d,{interval:V,setInterval:I})),re&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{aggregation:F,setAggregation:Y}),r.a.createElement(S,{chartType:H,setChartType:w})),ne&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{eventType:G,setEventType:Q}),r.a.createElement(D,{pageSize:Z,setPageSize:$}),r.a.createElement(A,{sortOrder:ae,setSortOrder:le}))),r.a.createElement(z,null,ne?r.a.createElement(x,{eventType:G,pageSize:Z,sortOrder:ae},(function(e){return r.a.createElement("pre",null,JSON.stringify(e,null,2))})):r.a.createElement(J,{startDate:m,endDate:T,interval:V},(function(e){return r.a.createElement("pre",null,JSON.stringify(e,null,2))})),r.a.createElement(L,null),r.a.createElement(k,null)))});a.d(t,"default",(function(){return w}))}}]);
//# sourceMappingURL=app.afbf4a8b.chunk.js.map