(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[127],{202:function(e,t,a){e.exports={container:"FieldSpacer_container__p9Ttv"}},203:function(e,t,a){e.exports={container:"LayoutContainer_container__2gt-1"}},204:function(e,t,a){e.exports={sidebar:"LayoutSidebar_sidebar__38x-X"}},205:function(e,t,a){e.exports={content:"LayoutContent_content__3pEdj"}},206:function(e,t,a){e.exports={title:"AppTitle_title__mjsfQ"}},301:function(e,t,a){e.exports={title:"ChartHeader_title__ff7A2",subtitle:"ChartHeader_subtitle__2JAVZ"}},302:function(e,t,a){e.exports={outerContainer:"ChartWrapper_outerContainer__2BU2T",innerContainer:"ChartWrapper_innerContainer__5ZEsg",chartContainer:"ChartWrapper_chartContainer__jt1gD"}},303:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Et}));var r=a(2),l=a.n(r),n=a(7),s=a(6),c=a.n(s);const o="DATA_VALUES",i="FAVORITES_SAVED",v="FAVORITE_VIEWS",d="TOP_FAVORITES",m="USERS";var E=[{value:v,label:c.a.t("Favorite views"),subtitle:c.a.t("Number of times users looked at analysis favorites")},{value:i,label:c.a.t("Favorites saved"),subtitle:c.a.t("Number of analysis favorites created by users")},{value:m,label:c.a.t("Users"),subtitle:c.a.t("Number of users in the system")},{value:d,label:c.a.t("Top favorites")},{value:o,label:c.a.t("Data values"),subtitle:c.a.t("Number of data values saved in the system")}];const u="WEEK",b="MONTH",p="YEAR";var g=[{value:"DAY",label:c.a.t("Day")},{value:u,label:c.a.t("Week")},{value:b,label:c.a.t("Month")},{value:p,label:c.a.t("Year")}];const D="SUM";var h=[{value:D,label:c.a.t("Sum")},{value:"AVERAGE",label:c.a.t("Average")}];const y="ALL";var S=[{value:y,label:c.a.t("All")},{value:"TOTAL",label:c.a.t("Total")}];const w="CHART_VIEW";var C=[{value:w,label:c.a.t("Chart")},{value:"MAP_VIEW",label:c.a.t("Map")},{value:"REPORT_TABLE_VIEW",label:c.a.t("Report table")},{value:"EVENT_REPORT_VIEW",label:c.a.t("Event report")},{value:"EVENT_CHART_VIEW",label:c.a.t("Event chart")},{value:"DASHBOARD_VIEW",label:c.a.t("Dashboard")},{value:"DATA_SET_REPORT_VIEW",label:c.a.t("Data set report")}];var T=[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"}];var I=[{value:"ASC",label:c.a.t("Ascending")},{value:"DESC",label:c.a.t("Descending")}],V=a(202),f=a.n(V);var A=({children:e})=>l.a.createElement("div",{className:f.a.container},e);var R=({aggregation:e,setAggregation:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Aggregation Level")},h.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t})))));var O=({chartType:e,setChartType:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Chart Type")},S.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t}))))),_=a(11),k=a.n(_);const z="YYYY-MM-DD",M=(e,t)=>{const a=k()(e,z),r=k()(t,z);return a.isAfter(r)?c.a.t("Start date should be before end date"):""},Y=e=>{if(!e)return c.a.t("Please fill in a date");return k()(e,z,!0).isValid()?"":c.a.t("Please use the format yyyy-mm-dd")};var P=({startDate:e,setStartDate:t,startDateError:a,setStartDateError:r})=>l.a.createElement(A,null,l.a.createElement(n.k,{label:c.a.t("Start Date"),type:"date",value:e,error:!!a,validationText:a,onChange:({value:e})=>{r(Y(e)),t(e)}}));var j=({endDate:e,setEndDate:t,endDateError:a,setEndDateError:r})=>l.a.createElement(A,null,l.a.createElement(n.k,{label:c.a.t("End Date"),type:"date",value:e,error:!!a,validationText:a,onChange:({value:e})=>{r(Y(e)),t(e)}}));var N=({startDate:e,setStartDate:t,endDate:a,setEndDate:n})=>{const[s,c]=Object(r.useState)(""),[o,i]=Object(r.useState)(""),[v,d]=Object(r.useState)(""),m=(e,t)=>{d(M(e,t))};return l.a.createElement("div",null,l.a.createElement(P,{startDate:e,setStartDate:e=>{m(e,a),t(e)},startDateError:s||v,setStartDateError:c}),l.a.createElement(j,{endDate:a,setEndDate:t=>{m(e,t),n(t)},endDateError:o||v,setEndDateError:i}))};var x=({eventType:e,setEventType:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Event Type")},C.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t})))));var F=({interval:e,setReportInterval:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Interval")},g.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t})))));var L=({pageSize:e,setPageSize:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Page Size")},T.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t})))));var U=({sortOrder:e,setSortOrder:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Sort Order")},I.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t})))));var W=({eventType:e,pageSize:t,setEventType:a,setPageSize:r,setSortOrder:n,sortOrder:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(x,{eventType:e,setEventType:a}),l.a.createElement(L,{pageSize:t,setPageSize:r}),l.a.createElement(U,{sortOrder:s,setSortOrder:n}));var H=({endDate:e,interval:t,setEndDate:a,setReportInterval:r,setStartDate:n,startDate:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{startDate:s,setStartDate:n,endDate:e,setEndDate:a}),l.a.createElement(F,{interval:t,setReportInterval:r}));var G=({endDate:e,interval:t,setEndDate:a,setReportInterval:r,setStartDate:n,startDate:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{startDate:s,setStartDate:n,endDate:e,setEndDate:a}),l.a.createElement(F,{interval:t,setReportInterval:r}));var q=({endDate:e,interval:t,setEndDate:a,setReportInterval:r,setStartDate:n,startDate:s})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{startDate:s,setStartDate:n,endDate:e,setEndDate:a}),l.a.createElement(F,{interval:t,setReportInterval:r}));var B=({aggregation:e,chartType:t,endDate:a,interval:r,setAggregation:n,setChartType:s,setEndDate:c,setReportInterval:o,setStartDate:i,startDate:v})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{startDate:v,setStartDate:i,endDate:a,setEndDate:c}),l.a.createElement(F,{interval:r,setReportInterval:o}),l.a.createElement(R,{aggregation:e,setAggregation:n}),l.a.createElement(O,{chartType:t,setChartType:s}));var J=({aggregation:e,category:t,chartType:a,endDate:r,eventType:s,interval:E,pageSize:u,setAggregation:b,setChartType:p,setEndDate:g,setEventType:D,setReportInterval:h,setPageSize:y,setSortOrder:S,setStartDate:w,sortOrder:C,startDate:T})=>{switch(t){case d:return l.a.createElement(W,{eventType:s,setEventType:D,pageSize:u,setPageSize:y,sortOrder:C,setSortOrder:S});case v:return l.a.createElement(B,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h,aggregation:e,setAggregation:b,chartType:a,setChartType:p});case o:return l.a.createElement(H,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h});case m:return l.a.createElement(G,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h});case i:return l.a.createElement(q,{startDate:T,setStartDate:w,endDate:r,setEndDate:g,interval:E,setReportInterval:h});default:return l.a.createElement(n.q,{error:!0,title:c.a.t("Unrecognized category")},c.a.t("The chosen category was not recognized."))}},Z=a(203),K=a.n(Z);var Q=({children:e})=>l.a.createElement("main",{className:K.a.container},e),X=a(204),$=a.n(X);var ee=({children:e})=>l.a.createElement("aside",{className:$.a.sidebar},e),te=a(205),ae=a.n(te);var re=({children:e})=>l.a.createElement("section",{className:ae.a.content},e);var le=({category:e,setCategory:t})=>l.a.createElement(A,null,l.a.createElement(n.r,{selected:e,onChange:({selected:e})=>{t(e)},label:c.a.t("Category")},E.map((({label:e,value:t})=>l.a.createElement(n.s,{label:e,key:t,value:t}))))),ne=a(206),se=a.n(ne);var ce=()=>l.a.createElement("h1",{className:se.a.title},c.a.t("Usage Analytics"));const oe=({year:e,month:t,week:a,day:r},l)=>{switch(l){case p:return k()({year:e}).format("YYYY");case b:{const a=t-1,r="MMM YYYY";return k()({year:e,month:a}).format(r)}case u:{const t="[".concat(c.a.t("Week"),"] [").concat(a,"] / YYYY");return k()({year:e}).format(t)}case"DAY":{const a=t-1,l="MMM D, YYYY";return k()({year:e,month:a,day:r}).format(l)}}};var ie=({children:e})=>l.a.createElement("div",null,l.a.createElement(n.d,null,e));var ve=({data:e,interval:t})=>l.a.createElement(ie,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,c.a.t("Date")),l.a.createElement(n.w,null,c.a.t("Data Values")))),l.a.createElement(n.u,null,e.map((({year:e,month:a,week:r,day:s,savedDataValues:c})=>{const o=oe({year:e,month:a,week:r,day:s},t);return l.a.createElement(n.y,{key:o},l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,c))})))));var de=({data:e,interval:t})=>l.a.createElement(ie,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,c.a.t("Date")),l.a.createElement(n.w,null,c.a.t("Active Users")),l.a.createElement(n.w,null,c.a.t("Total Users")))),l.a.createElement(n.u,null,e.map((({year:e,month:a,week:r,day:s,activeUsers:c,users:o})=>{const i=oe({year:e,month:a,week:r,day:s},t);return l.a.createElement(n.y,{key:i},l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,o))})))));var me=({data:e,interval:t})=>l.a.createElement(ie,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,c.a.t("Date")),l.a.createElement(n.w,null,c.a.t("Maps")),l.a.createElement(n.w,null,c.a.t("Charts")),l.a.createElement(n.w,null,c.a.t("Pivot Tables")),l.a.createElement(n.w,null,c.a.t("Event Reports")),l.a.createElement(n.w,null,c.a.t("Event Charts")),l.a.createElement(n.w,null,c.a.t("Dashboards")),l.a.createElement(n.w,null,c.a.t("Indicators")))),l.a.createElement(n.u,null,e.map((({year:e,month:a,week:r,day:s,savedMaps:c,savedCharts:o,savedPivotTables:i,savedEventReports:v,savedEventCharts:d,savedDashboards:m,savedIndicators:E})=>{const u=oe({year:e,month:a,week:r,day:s},t);return l.a.createElement(n.y,{key:u},l.a.createElement(n.v,null,u),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,v),l.a.createElement(n.v,null,d),l.a.createElement(n.v,null,m),l.a.createElement(n.v,null,E))})))));var Ee=({data:e,interval:t})=>l.a.createElement(ie,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,c.a.t("Date")),l.a.createElement(n.w,null,c.a.t("Map")),l.a.createElement(n.w,null,c.a.t("Chart")),l.a.createElement(n.w,null,c.a.t("Pivot Table")),l.a.createElement(n.w,null,c.a.t("Event Report")),l.a.createElement(n.w,null,c.a.t("Event Chart")),l.a.createElement(n.w,null,c.a.t("Dashboard")),l.a.createElement(n.w,null,c.a.t("Data Set Report")),l.a.createElement(n.w,null,c.a.t("Total")))),l.a.createElement(n.u,null,e.map((({year:e,month:a,week:r,day:s,mapViews:c,chartViews:o,pivotTableViews:i,eventReportViews:v,eventChartViews:d,dashboardViews:m,dataSetReportViews:E,totalViews:u})=>{const b=oe({year:e,month:a,week:r,day:s},t);return l.a.createElement(n.y,{key:b},l.a.createElement(n.v,null,b),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,v),l.a.createElement(n.v,null,d),l.a.createElement(n.v,null,m),l.a.createElement(n.v,null,E),l.a.createElement(n.v,null,u))})))));var ue=({data:e,interval:t})=>l.a.createElement(ie,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,c.a.t("Date")),l.a.createElement(n.w,null,c.a.t("Average Map")),l.a.createElement(n.w,null,c.a.t("Average Chart")),l.a.createElement(n.w,null,c.a.t("Average Pivot Table")),l.a.createElement(n.w,null,c.a.t("Average Event Report")),l.a.createElement(n.w,null,c.a.t("Average Event Chart")),l.a.createElement(n.w,null,c.a.t("Average Dashboard")),l.a.createElement(n.w,null,c.a.t("Average")))),l.a.createElement(n.u,null,e.map((({year:e,month:a,week:r,day:s,averageMapViews:c,averageChartViews:o,averagePivotTableViews:i,averageEventReportViews:v,averageEventChartViews:d,averageDashboardViews:m,averageViews:E})=>{const u=oe({year:e,month:a,week:r,day:s},t);return l.a.createElement(n.y,{key:u},l.a.createElement(n.v,null,u),l.a.createElement(n.v,null,c),l.a.createElement(n.v,null,o),l.a.createElement(n.v,null,i),l.a.createElement(n.v,null,v),l.a.createElement(n.v,null,d),l.a.createElement(n.v,null,m),l.a.createElement(n.v,null,E))})))));var be=({data:e})=>l.a.createElement(ie,null,l.a.createElement(n.t,null,l.a.createElement(n.x,null,l.a.createElement(n.z,null,l.a.createElement(n.w,null,c.a.t("Position")),l.a.createElement(n.w,null,c.a.t("Name")),l.a.createElement(n.w,null,c.a.t("Views")),l.a.createElement(n.w,null,c.a.t("ID")),l.a.createElement(n.w,null,c.a.t("Created")))),l.a.createElement(n.u,null,e.map((({position:e,name:t,views:a,id:r,created:s})=>{const c=k()(s).format("MMM D, YYYY");return l.a.createElement(n.y,{key:r},l.a.createElement(n.v,null,e),l.a.createElement(n.v,null,t),l.a.createElement(n.v,null,a),l.a.createElement(n.v,null,r),l.a.createElement(n.v,null,c))}))))),pe=a(8);const ge={favorites:{resource:"dataStatistics/favorites",params:({eventType:e,pageSize:t,sortOrder:a,fields:r})=>({eventType:e,pageSize:t,sortOrder:a,fields:r})}};var De=({eventType:e,pageSize:t,sortOrder:a,fields:s,children:o})=>{const{loading:i,error:v,data:d,called:m,refetch:E}=Object(pe.d)(ge,{lazy:!0,variables:{eventType:e,pageSize:t,sortOrder:a,fields:s}});if(Object(r.useEffect)((()=>{E({eventType:e,pageSize:t,sortOrder:a,fields:s})}),[e,t,a,s]),!m||i)return l.a.createElement(n.g,null,l.a.createElement(n.e,null,l.a.createElement(n.f,null)));if(v){const e=c.a.t("Error whilst fetching data"),t=c.a.t('The error message was: "{{ MESSAGE }}".',{MESSAGE:v.message,nsSeparator:">"}),a=c.a.t("There was no error message included with the error.");return l.a.createElement(n.q,{error:!0,title:e},v.message?t:a)}return o(d.favorites)};const he={dataStatistics:{resource:"dataStatistics",params:({startDate:e,endDate:t,interval:a,fields:r})=>({startDate:e,endDate:t,interval:a,fields:r})}};var ye=({children:e,endDate:t,fields:a,interval:s,isIntervalStale:o,setIsIntervalStale:i,startDate:v})=>{const d=()=>i(!1),{loading:m,error:E,data:u,called:b,refetch:p}=Object(pe.d)(he,{lazy:!0,variables:{startDate:v,endDate:t,interval:s,fields:a},onComplete:d,onError:d});if(Object(r.useEffect)((()=>{((e,t)=>{const a=!!Y(e),r=!!Y(t),l=!!M(e,t);return!(a||r||l)})(v,t)&&p({startDate:v,endDate:t,interval:s,fields:a})}),[v,t,s,a]),!b||m||o)return l.a.createElement(n.g,null,l.a.createElement(n.e,null,l.a.createElement(n.f,null)));if(E){const e=c.a.t("Error whilst fetching data"),t=c.a.t('The error message was: "{{ MESSAGE }}".',{MESSAGE:E.message,nsSeparator:">"}),a=c.a.t("There was no error message included with the error.");return l.a.createElement(n.q,{error:!0,title:e},E.message?t:a)}return e(u.dataStatistics)};const Se=["position","name","views","id","created"];var we=({eventType:e,pageSize:t,sortOrder:a})=>l.a.createElement(De,{eventType:e,fields:Se,pageSize:t,sortOrder:a},(e=>l.a.createElement(be,{data:e}))),Ce=a(169),Te=a(301),Ie=a.n(Te);var Ve=({title:e,subtitle:t})=>l.a.createElement("header",null,l.a.createElement("h4",{className:Ie.a.title},e),l.a.createElement("h6",{className:Ie.a.subtitle},t)),fe=a(302),Ae=a.n(fe);var Re=({children:e,title:t,subtitle:a})=>l.a.createElement("div",{className:Ae.a.outerContainer},l.a.createElement(n.d,null,l.a.createElement("div",{className:Ae.a.innerContainer},l.a.createElement(Ve,{title:t,subtitle:a}),l.a.createElement("div",{className:Ae.a.chartContainer},e)))),Oe=a(0);const{blue300:_e,yellow700:ke,yellow200:ze,green400:Me,red400:Ye,grey900:Pe,teal600:je}=Oe.colors,Ne=_e,xe=ke,Fe=ze,Le=Me,Ue=Ye,We=Pe,He=je,Ge=e=>{const t=E.find((t=>t.value===e));return{title:t.label,subtitle:t.subtitle}},qe=(e,t)=>e.map((({year:e,month:a,week:r,day:l})=>oe({year:e,month:a,week:r,day:l},t)));var Be={animation:{duration:180},legend:{position:"bottom"},maintainAspectRatio:!1,elements:{line:{tension:0,fill:!1,backgroundColor:"rgba(0, 0, 0, 0)"}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:c.a.t("Values")}}]}};var Je=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(m),n=qe(e,t),s=(e=>[{label:c.a.t("Active Users"),data:e.map((e=>e.activeUsers)),borderColor:Ne},{label:c.a.t("Total Users"),data:e.map((e=>e.users)),borderColor:xe}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};var Ze=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(o),n=qe(e,t),s=(e=>[{label:c.a.t("Data Values"),data:e.map((e=>e.savedDataValues)),borderColor:Ne}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};var Ke=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(i),n=qe(e,t),s=(e=>[{label:c.a.t("Maps"),data:e.map((e=>e.savedMaps)),borderColor:Ne},{label:c.a.t("Charts"),data:e.map((e=>e.savedCharts)),borderColor:xe},{label:c.a.t("Pivot Tables"),data:e.map((e=>e.savedPivotTables)),borderColor:Fe},{label:c.a.t("Event Reports"),data:e.map((e=>e.savedEventReports)),borderColor:Le},{label:c.a.t("Event Charts"),data:e.map((e=>e.savedEventCharts)),borderColor:Ue},{label:c.a.t("Dashboards"),data:e.map((e=>e.savedDashboards)),borderColor:We},{label:c.a.t("Indicators"),data:e.map((e=>e.savedIndicators)),borderColor:He}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};var Qe=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(v),n=qe(e,t),s=(e=>[{label:c.a.t("Map"),data:e.map((e=>e.mapViews)),borderColor:Ne},{label:c.a.t("Chart"),data:e.map((e=>e.chartViews)),borderColor:xe},{label:c.a.t("Pivot Table"),data:e.map((e=>e.pivotTableViews)),borderColor:Fe},{label:c.a.t("Event Report"),data:e.map((e=>e.eventReportViews)),borderColor:Le},{label:c.a.t("Event Chart"),data:e.map((e=>e.eventChartViews)),borderColor:Ue},{label:c.a.t("Dashboard"),data:e.map((e=>e.dashboardViews)),borderColor:We},{label:c.a.t("Data Set Report"),data:e.map((e=>e.dataSetReportViews)),borderColor:He}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};var Xe=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(v),n=qe(e,t),s=(e=>[{label:c.a.t("Total"),data:e.map((e=>e.totalViews)),borderColor:Ne}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};var $e=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(v),n=qe(e,t),s=(e=>[{label:c.a.t("Average Map"),data:e.map((e=>e.averageMapViews)),borderColor:Ne},{label:c.a.t("Average Chart"),data:e.map((e=>e.averageChartViews)),borderColor:xe},{label:c.a.t("Average Pivot Table"),data:e.map((e=>e.averagePivotTableViews)),borderColor:Fe},{label:c.a.t("Average Event Report"),data:e.map((e=>e.averageEventReportViews)),borderColor:Le},{label:c.a.t("Average Event Chart"),data:e.map((e=>e.averageEventChartViews)),borderColor:Ue},{label:c.a.t("Average Dashboard"),data:e.map((e=>e.averageDashboardViews)),borderColor:We}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};var et=({data:e,interval:t})=>{const{title:a,subtitle:r}=Ge(v),n=qe(e,t),s=(e=>[{label:c.a.t("Average"),data:e.map((e=>e.averageViews)),borderColor:Ne}])(e);return l.a.createElement(Re,{title:a,subtitle:r},l.a.createElement(Ce.Line,{data:{labels:n,datasets:s},options:Be}))};const tt=["year","month","week","day","savedDataValues"];var at=({endDate:e,interval:t,isIntervalStale:a,setIsIntervalStale:n,startDate:s})=>l.a.createElement(ye,{endDate:e,fields:tt,interval:t,isIntervalStale:a,setIsIntervalStale:n,startDate:s},(e=>l.a.createElement(r.Fragment,null,l.a.createElement(Ze,{data:e,interval:t}),l.a.createElement(ve,{data:e,interval:t}))));const rt=["year","month","week","day","activeUsers","users"];var lt=({endDate:e,interval:t,isIntervalStale:a,setIsIntervalStale:n,startDate:s})=>l.a.createElement(ye,{endDate:e,fields:rt,interval:t,isIntervalStale:a,setIsIntervalStale:n,startDate:s},(e=>l.a.createElement(r.Fragment,null,l.a.createElement(Je,{data:e,interval:t}),l.a.createElement(de,{data:e,interval:t}))));const nt=["year","month","week","day","savedMaps","savedCharts","savedPivotTables","savedEventReports","savedEventCharts","savedDashboards","savedIndicators"];var st=({endDate:e,interval:t,isIntervalStale:a,setIsIntervalStale:n,startDate:s})=>l.a.createElement(ye,{endDate:e,fields:nt,interval:t,isIntervalStale:a,setIsIntervalStale:n,startDate:s},(e=>l.a.createElement(r.Fragment,null,l.a.createElement(Ke,{data:e,interval:t}),l.a.createElement(me,{data:e,interval:t}))));const ct=["year","month","week","day"],ot=[...ct,"mapViews","chartViews","pivotTableViews","eventReportViews","eventChartViews","dashboardViews","dataSetReportViews","totalViews"],it=[...ct,"averageMapViews","averageChartViews","averagePivotTableViews","averageEventReportViews","averageEventChartViews","averageDashboardViews","averageViews"];var vt=({aggregation:e,chartType:t,endDate:a,interval:n,isIntervalStale:s,setIsIntervalStale:c,startDate:o})=>{const i=t===y;return e===D?l.a.createElement(ye,{endDate:a,fields:ot,interval:n,isIntervalStale:s,setIsIntervalStale:c,startDate:o},(e=>l.a.createElement(r.Fragment,null,i?l.a.createElement(Qe,{data:e,interval:n}):l.a.createElement(Xe,{data:e,interval:n}),l.a.createElement(Ee,{data:e,interval:n})))):l.a.createElement(ye,{endDate:a,fields:it,interval:n,isIntervalStale:s,setIsIntervalStale:c,startDate:o},(e=>l.a.createElement(r.Fragment,null,i?l.a.createElement($e,{data:e,interval:n}):l.a.createElement(et,{data:e,interval:n}),l.a.createElement(ue,{data:e,interval:n}))))};var dt=({aggregation:e,category:t,chartType:a,endDate:r,eventType:s,interval:E,isIntervalStale:u,pageSize:b,setIsIntervalStale:p,sortOrder:g,startDate:D})=>{switch(t){case d:return l.a.createElement(we,{eventType:s,pageSize:b,sortOrder:g});case o:return l.a.createElement(at,{endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});case m:return l.a.createElement(lt,{endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});case i:return l.a.createElement(st,{endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});case v:return l.a.createElement(vt,{aggregation:e,chartType:a,endDate:r,interval:E,isIntervalStale:u,setIsIntervalStale:p,startDate:D});default:return l.a.createElement(n.q,{error:!0,title:c.a.t("Unrecognized category")},c.a.t("The chosen category was not recognized."))}};var mt=()=>{const e=Date.now(),t="YYYY-MM-DD";return{initialStartDate:k()(e).subtract(4,"months").format(t),initialEndDate:k()(e).format(t)}};var Et=()=>{const{initialStartDate:e,initialEndDate:t}=mt(),[a,s]=Object(r.useState)(D),[c,o]=Object(r.useState)(v),[i,d]=Object(r.useState)(y),[m,E]=Object(r.useState)(t),[b,p]=Object(r.useState)(w),[g,h]=Object(r.useState)("25"),[S,C]=Object(r.useState)("ASC"),[T,I]=Object(r.useState)(e),[V,f]=Object(r.useState)(u),[A,R]=Object(r.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(n.i,{spacers:!0,colors:!0}),l.a.createElement(Q,null,l.a.createElement(ee,null,l.a.createElement(ce,null),l.a.createElement(le,{category:c,setCategory:o}),l.a.createElement(J,{aggregation:a,category:c,chartType:i,endDate:m,eventType:b,interval:V,pageSize:g,setAggregation:s,setChartType:d,setEndDate:E,setEventType:p,setReportInterval:e=>{R(!0),f(e)},setPageSize:h,setSortOrder:C,setStartDate:I,sortOrder:S,startDate:T})),l.a.createElement(re,null,l.a.createElement(dt,{aggregation:a,category:c,chartType:i,endDate:m,eventType:b,interval:V,isIntervalStale:A,pageSize:g,setIsIntervalStale:R,sortOrder:S,startDate:T}))))}}}]);
//# sourceMappingURL=app.f76b6426.chunk.js.map