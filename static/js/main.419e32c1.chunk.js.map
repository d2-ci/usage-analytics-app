{"version":3,"sources":["constants/statuses.js","actions/types.js","constants/categories.js","constants/intervals.js","constants/aggregations.js","constants/chartTypes.js","constants/eventTypes.js","constants/sortOrders.js","reducers/filter.js","store.js","reducers/appStatus.js","reducers/locale.js","reducers/usageData.js","locales/index.js","api/get.js","api/index.js","utils/locale.js","actions/index.js","components/Error.js","constants/pageSizes.js","components/FilterFields/withMargin.js","components/FilterFields/dropDownComponents.js","components/FilterFields/DateRange.js","components/FilterFields/index.js","components/FilterSideBar.js","constants/properties.js","constants/fields.js","utils/date.js","components/Chart/config.js","components/Chart/parseChartData.js","components/Chart/index.js","components/Table.js","components/UsageAnalytics.js","components/App.js","serviceWorker.js","index.js"],"names":["LOADING","READY","ERROR","APP_LOAD_SUCCESS","APP_LOAD_ERROR","USAGE_DATA_REQUESTED","USAGE_DATA_RECEIVED","USAGE_DATA_ERRORED","FILTER_UPDATED","FAVORITE_VIEWS","TOP_FAVORITES","CATEGORY_LOOKUP","_CATEGORY_LOOKUP","Object","defineProperty","value","label","i18n","t","subtitle","CATEGORIES","FAVORITES_SAVED","USERS","DATA_VALUES","DAY","WEEK","MONTH","YEAR","INTERVALS","SUM","AGGREGATIONS","ALL","CHART_TYPES","CHART_VIEW","EVENT_TYPES","ASC","SORT_ORDERS","parseDate","date","year","getFullYear","month","getMonth","day","getDate","length","join","middlewares","ReduxThunk","rootReducer","combineReducers","appStatus","state","arguments","undefined","type","locale","_ref","payload","usageData","filter","endDate","startDate","Date","valueOf","setMonth","category","interval","aggregationLevel","chartType","eventType","pageSize","sortOrder","getInitialState","objectSpread","key","createStore","applyMiddleware","apply","moment","addResources","enTranslations","setDefaultNamespace","changeLanguage","endpoint","concat","process","defaultConfig","method","credentials","getJSON","path","config","fetch","then","response","ok","Error","statusText","Promise","reject","get","json","data","status","message","getUsageData","queryParams","now","getFavorites","_ref2","getDataStatistics","initApp","_ref3","all","userSettings","keyUiLocale","_ref4","_ref5","slicedToArray","setLocale","updateFilterAndGetData","e","dispatch","getState","updateFilter","target","name","createAction","ACTIONS","_callee2","regenerator_default","a","wrap","_context2","prev","next","api","sent","t0","console","error","stop","react_default","createElement","className","ComponentToWrap","PAGE_SIZES","withKind","props","SelectFieldWithMargin","SelectField","ERROR_PATTERN","ERROR_END_BEFORE_START","ERROR_START_AFTER_END","DateRange","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","startDateError","endDateError","onStartDateChange","bind","assertThisInitialized","onEndDateChange","updateUsageData","debounce","event","onChange","_this$setState","_this$props","dateRange","objectWithoutProperties","errorKey","otherErrorKey","getError","otherError","setState","test","_this$props2","_this$state","Component","CategoryDropDown","connect","createValueGetterForFilterKey","oldCategory","newCategory","isNewDataRequiredAfterCategoryChange","assign","map","i","DateRangeComponent","IntervalDropDown","AggregationLevelDropDown","ChartTypeDropDown","EventTypeDropDown","PageSizeDropDown","SortOrderDropDown","showDateFields","showTopFavoritesFields","showFavoriteViewsFields","react","src_components_FilterFields_DateRange","mapViews","chartViews","pivotTableViews","eventReportViews","eventChartViews","dashboardViews","dataSetReportViews","totalViews","averageMapViews","averageChartViews","averagePivotTableViews","averageEventReportViews","averageEventChartViews","averageDashboardViews","averageViews","savedMaps","savedCharts","savedPivotTables","savedEventReports","savedEventCharts","savedDashboards","savedIndicators","activeUsers","users","position","views","id","created","savedDataValues","FAVORITE_VIEWS_SUM_FIELDS","PROPS","FAVORITE_VIEWS_AVG_FIELDS","FAVORITES_SAVED_FIELDS","USERS_FIELDS","TABLE_FIELDS","_TABLE_FIELDS","CATS","_CATS$FAVORITE_VIEWS","AGGREG","CHART_FIELDS","_CHART_FIELDS","_CATS$FAVORITE_VIEWS2","_AGGREG$SUM","CHARTS","_AGGREG$AVERAGE","dateFormats","yyyymmdd","yyyymm","weekStr","getDisplayDateForInterval","week","getDisplayDateFromYearMonthDay","getDisplayDate","dateFormatOptions","store","Intl","DateTimeFormat","format","colors","options","animation","duration","legend","responsive","maintainAspectRatio","tooltips","mode","scales","xAxes","display","scaleLabel","ticks","maxRotation","minRotation","yAxes","labelString","suggestedMin","precision","dataSet","backgroundColor","fill","lineTension","MIN_SUGGESTED_MAX_VALUE","parseChartData","dataPoints","labels","datasets","title","max","min","fields","FIELDS","dataPointsLen","fieldsLen","dataPointIndex","dataPoint","push","fieldIndex","field","borderColor","pointValue","suggestedMax","onResize","onChartResize","chart","resize","baseClassName","loadingClassName","shouldHide","loading","chartConfig","content","CircularLoader","overlay","react_chartjs_2_es","TableHead","headers","header","TableBody","rows","row","Table_TableRow","cells","TableRow","text","parseTableData","_ref6","_ref7","dateField","createdField","isoString","tableData","src_components_Error","Table_TableHead","Table_TableBody","UsageAnalytics","_Component","inherits","createClass","size","components_FilterSideBar","components_Chart","components_Table","asyncToGenerator","mark","_callee","_context","_x","_x2","url","App","build_es","baseUrl","apiVersion","es","CssReset","HeaderBar","appName","components_UsageAnalytics","Boolean","window","location","hostname","match","ReactDOM","render","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.419e32c1.chunk.js","sourcesContent":["export const LOADING = 'LOADING'\nexport const READY = 'READY'\nexport const ERROR = 'ERROR'\n","// INITIALIZATION\nexport const APP_LOAD_SUCCESS = 'APP_LOAD_SUCCESS'\nexport const APP_LOAD_ERROR = 'APP_LOAD_ERROR'\n\n// STATISTICS\nexport const USAGE_DATA_REQUESTED = 'USAGE_DATA_REQUESTED'\nexport const USAGE_DATA_RECEIVED = 'USAGE_DATA_RECEIVED'\nexport const USAGE_DATA_ERRORED = 'USAGE_DATA_ERRORED'\n\n// FILTER\nexport const FILTER_UPDATED = 'FILTER_UPDATED'\n","import i18n from '@dhis2/d2-i18n'\n\nexport const FAVORITE_VIEWS = 'FAVORITE_VIEWS'\nexport const FAVORITES_SAVED = 'FAVORITES_SAVED'\nexport const USERS = 'USERS'\nexport const TOP_FAVORITES = 'TOP_FAVORITES'\nexport const DATA_VALUES = 'DATA_VALUES'\n\nexport const CATEGORY_LOOKUP = {\n    [FAVORITE_VIEWS]: {\n        value: FAVORITE_VIEWS,\n        label: i18n.t('Favorite views'),\n        subtitle: i18n.t('Number of times users looked at analysis favorites'),\n    },\n    [FAVORITES_SAVED]: {\n        value: FAVORITES_SAVED,\n        label: i18n.t('Favorites saved'),\n        subtitle: i18n.t('Number of analysis favorites created by users'),\n    },\n    [USERS]: {\n        value: USERS,\n        label: i18n.t('Users'),\n        subtitle: i18n.t('Number of users in the system'),\n    },\n    [TOP_FAVORITES]: {\n        value: TOP_FAVORITES,\n        label: i18n.t('Top favorites'),\n    },\n    [DATA_VALUES]: {\n        value: DATA_VALUES,\n        label: i18n.t('Data values'),\n        subtitle: i18n.t('Number of data values saved in the system'),\n    },\n}\n\nconst CATEGORIES = [\n    CATEGORY_LOOKUP.FAVORITE_VIEWS,\n    CATEGORY_LOOKUP.FAVORITES_SAVED,\n    CATEGORY_LOOKUP.USERS,\n    CATEGORY_LOOKUP.TOP_FAVORITES,\n    CATEGORY_LOOKUP.DATA_VALUES,\n]\nexport default CATEGORIES\n","import i18n from '@dhis2/d2-i18n'\n\nexport const DAY = 'DAY'\nexport const WEEK = 'WEEK'\nexport const MONTH = 'MONTH'\nexport const YEAR = 'YEAR'\n\nconst INTERVALS = [\n    { value: DAY, label: i18n.t('Day') },\n    { value: WEEK, label: i18n.t('Week') },\n    { value: MONTH, label: i18n.t('Month') },\n    { value: YEAR, label: i18n.t('Year') },\n]\nexport default INTERVALS\n","import i18n from '@dhis2/d2-i18n'\n\nexport const SUM = 'SUM'\nexport const AVERAGE = 'AVERAGE'\n\nconst AGGREGATIONS = [\n    { value: SUM, label: i18n.t('Sum') },\n    { value: AVERAGE, label: i18n.t('Average') },\n]\nexport default AGGREGATIONS\n","import i18n from '@dhis2/d2-i18n'\n\nexport const ALL = 'ALL'\nexport const TOTAL = 'TOTAL'\n\nconst CHART_TYPES = [\n    { value: ALL, label: i18n.t('All') },\n    { value: TOTAL, label: i18n.t('Total') },\n]\nexport default CHART_TYPES\n","import i18n from '@dhis2/d2-i18n'\n\nexport const CHART_VIEW = 'CHART_VIEW'\nexport const MAP_VIEW = 'MAP_VIEW'\nexport const REPORT_TABLE_VIEW = 'REPORT_TABLE_VIEW'\nexport const EVENT_REPORT_VIEW = 'EVENT_REPORT_VIEW'\nexport const EVENT_CHART_VIEW = 'EVENT_CHART_VIEW'\nexport const DASHBOARD_VIEW = 'DASHBOARD_VIEW'\nexport const DATA_SET_REPORT_VIEW = 'DATA_SET_REPORT_VIEW'\n\nconst EVENT_TYPES = [\n    { value: CHART_VIEW, label: i18n.t('Chart') },\n    { value: MAP_VIEW, label: i18n.t('Map') },\n    { value: REPORT_TABLE_VIEW, label: i18n.t('Report table') },\n    { value: EVENT_REPORT_VIEW, label: i18n.t('Event report') },\n    { value: EVENT_CHART_VIEW, label: i18n.t('Event chart') },\n    { value: DASHBOARD_VIEW, label: i18n.t('Dashboard') },\n    { value: DATA_SET_REPORT_VIEW, label: i18n.t('Data set report') },\n]\nexport default EVENT_TYPES\n","import i18n from '@dhis2/d2-i18n'\n\nexport const ASC = 'ASC'\nexport const DESC = 'DESC'\n\nconst SORT_ORDERS = [\n    { value: ASC, label: i18n.t('Ascending') },\n    { value: DESC, label: i18n.t('Descending') },\n]\nexport default SORT_ORDERS\n","import { FILTER_UPDATED } from '../actions/types'\nimport { FAVORITE_VIEWS } from '../constants/categories'\nimport { WEEK } from '../constants/intervals'\nimport { SUM } from '../constants/aggregations'\nimport { ALL } from '../constants/chartTypes'\nimport { CHART_VIEW } from '../constants/eventTypes'\nimport { ASC } from '../constants/sortOrders'\n\nexport default function filter(\n    state = getInitialState(new Date()),\n    { type, payload }\n) {\n    switch (type) {\n        case FILTER_UPDATED:\n            return {\n                ...state,\n                [payload.key]: payload.value,\n            }\n        default:\n            return state\n    }\n}\n\nexport function getInitialState(endDate) {\n    const startDate = new Date(endDate.valueOf())\n    startDate.setMonth(startDate.getMonth() - 4)\n\n    return {\n        category: FAVORITE_VIEWS,\n        startDate: parseDate(startDate),\n        endDate: parseDate(endDate),\n        interval: WEEK,\n        aggregationLevel: SUM,\n        chartType: ALL,\n        eventType: CHART_VIEW,\n        pageSize: 25,\n        sortOrder: ASC,\n    }\n}\n\nexport function parseDate(date) {\n    const year = date.getFullYear()\n    let month = '' + (date.getMonth() + 1)\n    let day = '' + date.getDate()\n\n    if (month.length < 2) month = '0' + month\n    if (day.length < 2) day = '0' + day\n\n    return [year, month, day].join('-')\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport ReduxThunk from 'redux-thunk'\nimport logger from 'redux-logger'\nimport appStatus from './reducers/appStatus'\nimport locale from './reducers/locale'\nimport usageData from './reducers/usageData'\nimport filter from './reducers/filter'\n\nconst middlewares = [ReduxThunk]\n\nconst shouldLog = false\n\nif (process.env.NODE_ENV === 'development' && shouldLog) {\n    middlewares.push(logger)\n}\n\nconst rootReducer = combineReducers({\n    appStatus,\n    locale,\n    usageData,\n    filter,\n})\n\nexport default createStore(rootReducer, applyMiddleware(...middlewares))\n","import { LOADING, READY, ERROR } from '../constants/statuses'\nimport { APP_LOAD_SUCCESS, APP_LOAD_ERROR } from '../actions/types'\n\nexport default function appStatus(state = LOADING, { type }) {\n    switch (type) {\n        case APP_LOAD_SUCCESS:\n            return READY\n        case APP_LOAD_ERROR:\n            return ERROR\n        default:\n            return state\n    }\n}\n","import { APP_LOAD_SUCCESS } from '../actions/types'\n\nexport default function locale(state = null, { type, payload }) {\n    switch (type) {\n        case APP_LOAD_SUCCESS:\n            return payload.locale\n        default:\n            return state\n    }\n}\n","import { LOADING, ERROR } from '../constants/statuses'\nimport {\n    APP_LOAD_SUCCESS,\n    USAGE_DATA_REQUESTED,\n    USAGE_DATA_RECEIVED,\n    USAGE_DATA_ERRORED,\n} from '../actions/types'\n\nexport default function usageData(state = LOADING, { type, payload }) {\n    switch (type) {\n        case USAGE_DATA_REQUESTED:\n            return LOADING\n        case APP_LOAD_SUCCESS:\n            return payload.usageData\n        case USAGE_DATA_RECEIVED:\n            return payload\n        case USAGE_DATA_ERRORED:\n            return ERROR\n        default:\n            return state\n    }\n}\n","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport moment from 'moment';\n\nimport enTranslations from './en/translations.json';\n\nconst namespace = 'usage-analytics-app';\nmoment.locale('en');\n\ni18n.addResources('en', namespace, enTranslations);\n\ni18n.setDefaultNamespace(namespace);\ni18n.changeLanguage('en');\n\nexport default i18n;\n","if (!process.env.REACT_APP_DHIS2_BASE_URL) {\n    throw new Error(\n        'The environment variable REACT_APP_DHIS2_BASE_URL must be set'\n    )\n}\n\nconst url = process.env.REACT_APP_DHIS2_BASE_URL\nconst endpoint = `${url}/api`\nconst defaultConfig = {\n    method: 'GET',\n    credentials: 'include',\n}\n\nexport function get(path, config = defaultConfig) {\n    if (!path) {\n        return Promise.reject(new Error('A path must be passed'))\n    }\n\n    return fetch(`${endpoint}/${path}`, config).then(response => {\n        if (response.ok) {\n            return response\n        }\n\n        throw new Error(response.statusText)\n    })\n}\n\nexport function getJSON(path) {\n    return get(path)\n        .then(response => response.json())\n        .then(data => {\n            if (data.status === 'ERROR') {\n                throw new Error(data.message)\n            } else {\n                return data\n            }\n        })\n}\n","import { setLocale } from '../utils/locale'\nimport { TOP_FAVORITES } from '../constants/categories'\nimport { getJSON } from './get'\n\nexport function getFavorites({ eventType, pageSize, sortOrder }) {\n    const queryParams = `eventType=${eventType}&pageSize=${pageSize}&sortOrder=${sortOrder}&_=${Date.now()}`\n    return getJSON(`dataStatistics/favorites?${queryParams}`)\n}\n\nexport function getDataStatistics({ startDate, endDate, interval }) {\n    const queryParams = `startDate=${startDate}&endDate=${endDate}&interval=${interval}&_=${Date.now()}`\n    return getJSON(`dataStatistics?${queryParams}`)\n}\n\nexport function getUserLocale() {\n    return getJSON('userSettings').then(\n        userSettings => userSettings.keyUiLocale\n    )\n}\n\nexport function getUsageData(filter) {\n    return filter.category === TOP_FAVORITES\n        ? getFavorites(filter)\n        : getDataStatistics(filter)\n}\n\nexport function initApp({ filter }) {\n    return Promise.all([getUserLocale(), getUsageData(filter)]).then(\n        ([locale, usageData]) => {\n            setLocale(locale)\n            return {\n                usageData,\n                locale,\n            }\n        }\n    )\n}\n","import i18n from '../locales'\n\nexport function setLocale(locale) {\n    i18n.changeLanguage(locale)\n}\n","import * as api from '../api'\nimport * as ACTIONS from '../actions/types'\nimport { TOP_FAVORITES } from '../constants/categories'\n\nexport const initApp = () => async (dispatch, getState) => {\n    try {\n        const payload = await api.initApp(getState())\n        dispatch(createAction(ACTIONS.APP_LOAD_SUCCESS, payload))\n    } catch (error) {\n        console.error(error)\n        dispatch(createAction(ACTIONS.APP_LOAD_ERROR, error))\n    }\n}\n\n// Fetch data if category has changed from TOP_FAVORITES to anything else\n// or vice versa\nexport const updateCategory = e => (dispatch, getState) => {\n    const { filter } = getState()\n    const oldCategory = filter.category\n\n    dispatch(updateFilter(e.target.name, e.target.value))\n\n    if (isNewDataRequiredAfterCategoryChange(oldCategory, e.target.value)) {\n        return getUsageData({ ...filter, category: e.target.value }, dispatch)\n    }\n}\n\nexport const updateFilterAndGetData = e => (dispatch, getState) => {\n    dispatch(updateFilter(e.target.name, e.target.value))\n\n    const { filter } = getState()\n    return getUsageData(filter, dispatch)\n}\n\nexport const updateUsageData = () => (dispatch, getState) => {\n    const { filter } = getState()\n    return getUsageData(filter, dispatch)\n}\n\nexport const updateFilter = (key, value) =>\n    createAction(ACTIONS.FILTER_UPDATED, { key, value })\n\nexport function isNewDataRequiredAfterCategoryChange(oldCategory, newCategory) {\n    return (\n        oldCategory !== newCategory &&\n        ((newCategory === TOP_FAVORITES && oldCategory !== TOP_FAVORITES) ||\n            (oldCategory === TOP_FAVORITES && newCategory !== TOP_FAVORITES))\n    )\n}\n\nasync function getUsageData(filter, dispatch) {\n    dispatch(createAction(ACTIONS.USAGE_DATA_REQUESTED))\n\n    try {\n        const usageData = await api.getUsageData(filter)\n        dispatch(createAction(ACTIONS.USAGE_DATA_RECEIVED, usageData))\n    } catch (error) {\n        console.error(error)\n        dispatch(createAction(ACTIONS.USAGE_DATA_ERRORED, error))\n    }\n}\n\nfunction createAction(type, payload) {\n    return { type, payload }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport './Error.css'\n\nfunction Error({ message }) {\n    return <div className=\"uaa-error\">{message}</div>\n}\n\nError.propTypes = {\n    message: PropTypes.string,\n}\n\nexport default Error\n","const PAGE_SIZES = [\n    { value: 5, label: '5' },\n    { value: 10, label: '10' },\n    { value: 15, label: '15' },\n    { value: 20, label: '20' },\n    { value: 25, label: '25' },\n]\nexport default PAGE_SIZES\n","import React from 'react'\nimport './withMargin.css'\n\nexport default function withMargin(ComponentToWrap) {\n    return function ComponentWithMargin(props) {\n        return (\n            <div className=\"uaa-fieldwrap\">\n                <ComponentToWrap {...props} />\n            </div>\n        )\n    }\n}\n","import React from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport { SelectField } from '@dhis2/ui-core'\nimport withMargin from './withMargin'\n\nimport CATEGORIES from '../../constants/categories'\nimport INTERVALS from '../../constants/intervals'\nimport AGGREGATIONS from '../../constants/aggregations'\nimport CHART_TYPES from '../../constants/chartTypes'\nimport EVENT_TYPES from '../../constants/eventTypes'\nimport PAGE_SIZES from '../../constants/pageSizes'\nimport SORT_ORDERS from '../../constants/sortOrders'\n\nconst FIELD_KIND = 'filled'\n\nconst withKind = props => ({ ...props, [FIELD_KIND]: true })\nconst SelectFieldWithMargin = withMargin(SelectField)\n\nexport const Category = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"category\"\n        label={i18n.t('Category')}\n    >\n        {CATEGORIES.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n\nexport const Interval = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"interval\"\n        label={i18n.t('Interval')}\n    >\n        {INTERVALS.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n\nexport const AggregationLevel = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"aggregationLevel\"\n        label={i18n.t('Aggregation Level')}\n    >\n        {AGGREGATIONS.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n\nexport const ChartType = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"chartType\"\n        label={i18n.t('Chart Type')}\n    >\n        {CHART_TYPES.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n\nexport const EventType = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"eventType\"\n        label={i18n.t('Event Type')}\n    >\n        {EVENT_TYPES.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n\nexport const PageSize = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"pageSize\"\n        label={i18n.t('Page Size')}\n    >\n        {PAGE_SIZES.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n\nexport const SortOrder = props => (\n    <SelectFieldWithMargin\n        {...withKind(props)}\n        name=\"sortOrder\"\n        label={i18n.t('Sort Order')}\n    >\n        {SORT_ORDERS.map(i => (\n            <option key={i.value} value={i.value}>\n                {i.label}\n            </option>\n        ))}\n    </SelectFieldWithMargin>\n)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport i18n from '@dhis2/d2-i18n'\nimport debounce from 'lodash.debounce'\nimport './DateRange.css'\n\nexport const START_DATE = 'startDate'\nexport const END_DATE = 'endDate'\nexport const ERROR_PATTERN = i18n.t('Please use the format yyyy-mm-dd')\nexport const ERROR_END_BEFORE_START = i18n.t('End date is before start date')\nexport const ERROR_START_AFTER_END = i18n.t('Start date is after end date')\n\n// Very basic date input. If browser doesn't support input type date,\n// it will use the pattern validation to display an error\nclass DateRange extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            startDateError: null,\n            endDateError: null,\n        }\n        this.onStartDateChange = this.onStartDateChange.bind(this)\n        this.onEndDateChange = this.onEndDateChange.bind(this)\n        this.updateUsageData = debounce(props.updateUsageData, 250)\n    }\n\n    onStartDateChange(event) {\n        this.onChange(START_DATE, event.target.value)\n    }\n    onEndDateChange(event) {\n        this.onChange(END_DATE, event.target.value)\n    }\n\n    onChange(key, value) {\n        const { updateFilter, updateUsageData, ...dateRange } = this.props\n        const errorKey = `${key}Error`\n        const otherErrorKey =\n            key === START_DATE ? `${END_DATE}Error` : `${START_DATE}Error`\n        const error = this.getError({ ...dateRange, [key]: value }, key)\n        const otherError =\n            this.state[otherErrorKey] === ERROR_PATTERN ? ERROR_PATTERN : null\n\n        if (this.state[errorKey] !== error) {\n            this.setState({\n                [errorKey]: error,\n                [otherErrorKey]: otherError,\n            })\n        }\n\n        updateFilter(key, value)\n\n        if (!error) {\n            this.updateUsageData()\n        }\n    }\n\n    getError(dateRange, key) {\n        if (!/[0-9]{4}-[0-9]{2}-[0-9]{2}/.test(dateRange[key])) {\n            return ERROR_PATTERN\n        }\n\n        if (dateRange.endDate < dateRange.startDate) {\n            return key === START_DATE\n                ? ERROR_START_AFTER_END\n                : ERROR_END_BEFORE_START\n        }\n\n        return null\n    }\n\n    render() {\n        const { startDate, endDate } = this.props\n        const { startDateError, endDateError } = this.state\n\n        return (\n            <div className=\"uaa-date-range\">\n                <div className=\"uaa-date-field uaa-fieldwrap\">\n                    <label>{i18n.t('Start Date')}</label>\n                    <input\n                        className={START_DATE}\n                        type=\"date\"\n                        value={startDate}\n                        onChange={this.onStartDateChange}\n                    />\n                    {startDateError && (\n                        <span className={`uaa-date-input-error ${START_DATE}`}>\n                            {startDateError}\n                        </span>\n                    )}\n                </div>\n                <div className=\"uaa-date-field uaa-fieldwrap\">\n                    <label>{i18n.t('End date')}</label>\n                    <input\n                        className={END_DATE}\n                        type=\"date\"\n                        value={endDate}\n                        onChange={this.onEndDateChange}\n                    />\n                    {endDateError && (\n                        <span className={`uaa-date-input-error ${END_DATE}`}>\n                            {endDateError}\n                        </span>\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\n\nDateRange.propTypes = {\n    startDate: PropTypes.string,\n    endDate: PropTypes.string,\n    updateFilter: PropTypes.func.isRequired,\n    updateUsageData: PropTypes.func.isRequired,\n}\n\nexport default DateRange\n","import { connect } from 'react-redux'\nimport * as DropDowns from './dropDownComponents'\nimport DateRangeComponent from './DateRange'\nimport {\n    updateCategory,\n    updateFilterAndGetData,\n    updateFilter,\n    updateUsageData,\n} from '../../actions'\n\nexport const CategoryDropDown = connect(\n    createValueGetterForFilterKey('category'),\n    { onChange: updateCategory }\n)(DropDowns.Category)\n\nexport const DateRange = connect(\n    mapDateRangeProps,\n    { updateFilter, updateUsageData }\n)(DateRangeComponent)\n\nexport const IntervalDropDown = connect(\n    createValueGetterForFilterKey('interval'),\n    { onChange: updateFilterAndGetData }\n)(DropDowns.Interval)\n\nexport const AggregationLevelDropDown = connect(\n    createValueGetterForFilterKey('aggregationLevel'),\n    { onChange: updateFilter }\n)(DropDowns.AggregationLevel)\n\nexport const ChartTypeDropDown = connect(\n    createValueGetterForFilterKey('chartType'),\n    { onChange: updateFilter }\n)(DropDowns.ChartType)\n\nexport const EventTypeDropDown = connect(\n    createValueGetterForFilterKey('eventType'),\n    { onChange: updateFilterAndGetData }\n)(DropDowns.EventType)\n\nexport const PageSizeDropDown = connect(\n    createValueGetterForFilterKey('pageSize'),\n    { onChange: updateFilterAndGetData }\n)(DropDowns.PageSize)\n\nexport const SortOrderDropDown = connect(\n    createValueGetterForFilterKey('sortOrder'),\n    { onChange: updateFilterAndGetData }\n)(DropDowns.SortOrder)\n\nexport function createValueGetterForFilterKey(key) {\n    return function(state) {\n        return {\n            value: state.filter[key],\n        }\n    }\n}\n\nexport function mapDateRangeProps(state) {\n    return {\n        startDate: state.filter.startDate,\n        endDate: state.filter.endDate,\n    }\n}\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport i18n from '@dhis2/d2-i18n'\nimport * as Fields from './FilterFields'\nimport { FAVORITE_VIEWS, TOP_FAVORITES } from '../constants/categories'\nimport './FilterSideBar.css'\n\nexport function FilterSideBar({\n    showDateFields,\n    showFavoriteViewsFields,\n    showTopFavoritesFields,\n}) {\n    return (\n        <aside className=\"uaa-filter-sidebar\">\n            <h1 className=\"uaa-app-header\">{i18n.t('Usage Analytics')}</h1>\n            <Fields.CategoryDropDown />\n            {showDateFields && (\n                <Fragment>\n                    <Fields.DateRange />\n                    <Fields.IntervalDropDown />\n                </Fragment>\n            )}\n            {showFavoriteViewsFields && (\n                <Fragment>\n                    <Fields.AggregationLevelDropDown />\n                    <Fields.ChartTypeDropDown />\n                </Fragment>\n            )}\n            {showTopFavoritesFields && (\n                <Fragment>\n                    <Fields.EventTypeDropDown />\n                    <Fields.PageSizeDropDown />\n                    <Fields.SortOrderDropDown />\n                </Fragment>\n            )}\n        </aside>\n    )\n}\n\nFilterSideBar.propTypes = {\n    showDateFields: PropTypes.bool,\n    showFavoriteViewsFields: PropTypes.bool,\n    showTopFavoritesFields: PropTypes.bool,\n}\n\nexport function mapStateToProps({ filter: { category } }) {\n    return {\n        showDateFields: category !== TOP_FAVORITES,\n        showTopFavoritesFields: category === TOP_FAVORITES,\n        showFavoriteViewsFields: category === FAVORITE_VIEWS,\n    }\n}\n\nexport default connect(mapStateToProps)(FilterSideBar)\n","import i18n from '@dhis2/d2-i18n'\n\nexport const date = { key: 'date', label: i18n.t('Date') }\nexport const mapViews = { key: 'mapViews', label: i18n.t('Map') }\nexport const chartViews = { key: 'chartViews', label: i18n.t('Chart') }\nexport const pivotTableViews = {\n    key: 'pivotTableViews',\n    label: i18n.t('Pivot Table'),\n}\nexport const eventReportViews = {\n    key: 'eventReportViews',\n    label: i18n.t('Event Report'),\n}\nexport const eventChartViews = {\n    key: 'eventChartViews',\n    label: i18n.t('Event Chart'),\n}\nexport const dashboardViews = {\n    key: 'dashboardViews',\n    label: i18n.t('Dashboard'),\n}\nexport const dataSetReportViews = {\n    key: 'dataSetReportViews',\n    label: i18n.t('Data Set Report'),\n}\nexport const totalViews = { key: 'totalViews', label: i18n.t('Total') }\nexport const averageMapViews = {\n    key: 'averageMapViews',\n    label: i18n.t('Average Map'),\n}\nexport const averageChartViews = {\n    key: 'averageChartViews',\n    label: i18n.t('Average Chart'),\n}\nexport const averagePivotTableViews = {\n    key: 'averagePivotTableViews',\n    label: i18n.t('Average Pivot Table'),\n}\nexport const averageEventReportViews = {\n    key: 'averageEventReportViews',\n    label: i18n.t('Average Event Report'),\n}\nexport const averageEventChartViews = {\n    key: 'averageEventChartViews',\n    label: i18n.t('Average Event Chart'),\n}\nexport const averageDashboardViews = {\n    key: 'averageDashboardViews',\n    label: i18n.t('Average Dashboard'),\n}\nexport const averageViews = {\n    key: 'averageViews',\n    label: i18n.t('Average'),\n}\nexport const savedMaps = { key: 'savedMaps', label: i18n.t('Maps') }\nexport const savedCharts = { key: 'savedCharts', label: i18n.t('Charts') }\nexport const savedPivotTables = {\n    key: 'savedPivotTables',\n    label: i18n.t('Pivot Tables'),\n}\nexport const savedEventReports = {\n    key: 'savedEventReports',\n    label: i18n.t('Event Reports'),\n}\nexport const savedEventCharts = {\n    key: 'savedEventCharts',\n    label: i18n.t('Event Charts'),\n}\nexport const savedDashboards = {\n    key: 'savedDashboards',\n    label: i18n.t('Dashboards'),\n}\nexport const savedIndicators = {\n    key: 'savedIndicators',\n    label: i18n.t('Indicators'),\n}\nexport const activeUsers = {\n    key: 'activeUsers',\n    label: i18n.t('Active Users'),\n}\nexport const users = { key: 'users', label: i18n.t('Total Users') }\nexport const position = { key: 'position', label: i18n.t('Position') }\nexport const name = { key: 'name', label: i18n.t('Name') }\nexport const views = { key: 'views', label: i18n.t('Views') }\nexport const id = { key: 'id', label: i18n.t('ID') }\nexport const created = { key: 'created', label: i18n.t('Created') }\nexport const savedDataValues = {\n    key: 'savedDataValues',\n    label: i18n.t('Data Values'),\n}\n","import * as CATS from './categories'\nimport * as AGGREG from './aggregations'\nimport * as CHARTS from './chartTypes'\nimport * as PROPS from './properties'\n\nconst FAVORITE_VIEWS_SUM_FIELDS = [\n    PROPS.mapViews,\n    PROPS.chartViews,\n    PROPS.pivotTableViews,\n    PROPS.eventReportViews,\n    PROPS.eventChartViews,\n    PROPS.dashboardViews,\n    PROPS.dataSetReportViews,\n]\n\nconst FAVORITE_VIEWS_AVG_FIELDS = [\n    PROPS.averageMapViews,\n    PROPS.averageChartViews,\n    PROPS.averagePivotTableViews,\n    PROPS.averageEventReportViews,\n    PROPS.averageEventChartViews,\n    PROPS.averageDashboardViews,\n]\n\nconst FAVORITES_SAVED_FIELDS = [\n    PROPS.savedMaps,\n    PROPS.savedCharts,\n    PROPS.savedPivotTables,\n    PROPS.savedEventReports,\n    PROPS.savedEventCharts,\n    PROPS.savedDashboards,\n    PROPS.savedIndicators,\n]\n\nconst USERS_FIELDS = [PROPS.activeUsers, PROPS.users]\n\nexport const TABLE_FIELDS = {\n    [CATS.FAVORITE_VIEWS]: {\n        [AGGREG.SUM]: [\n            PROPS.date,\n            ...FAVORITE_VIEWS_SUM_FIELDS,\n            PROPS.totalViews,\n        ],\n        [AGGREG.AVERAGE]: [\n            PROPS.date,\n            ...FAVORITE_VIEWS_AVG_FIELDS,\n            PROPS.averageViews,\n        ],\n    },\n    [CATS.FAVORITES_SAVED]: [PROPS.date, ...FAVORITES_SAVED_FIELDS],\n    [CATS.USERS]: [PROPS.date, ...USERS_FIELDS],\n    [CATS.TOP_FAVORITES]: [\n        PROPS.position,\n        PROPS.name,\n        PROPS.views,\n        PROPS.id,\n        PROPS.created,\n    ],\n    [CATS.DATA_VALUES]: [PROPS.date, PROPS.savedDataValues],\n}\n\nexport const CHART_FIELDS = {\n    [CATS.FAVORITE_VIEWS]: {\n        [AGGREG.SUM]: {\n            [CHARTS.ALL]: FAVORITE_VIEWS_SUM_FIELDS,\n            [CHARTS.TOTAL]: [PROPS.totalViews],\n        },\n        [AGGREG.AVERAGE]: {\n            [CHARTS.ALL]: FAVORITE_VIEWS_AVG_FIELDS,\n            [CHARTS.TOTAL]: [PROPS.averageViews],\n        },\n    },\n    [CATS.FAVORITES_SAVED]: FAVORITES_SAVED_FIELDS,\n    [CATS.USERS]: USERS_FIELDS,\n    [CATS.DATA_VALUES]: [PROPS.savedDataValues],\n}\n","import store from '../store'\nimport { YEAR, MONTH, WEEK, DAY } from '../constants/intervals'\nimport i18n from '@dhis2/d2-i18n'\n\nconst dateFormats = {\n    yyyymmdd: {\n        day: 'numeric',\n        month: 'short',\n        year: 'numeric',\n    },\n    yyyymm: {\n        month: 'short',\n        year: 'numeric',\n    },\n}\n\nconst weekStr = i18n.t('Week')\n\nexport function getDisplayDateForInterval(\n    { year, month, week, day },\n    interval\n) {\n    switch (interval) {\n        case YEAR:\n            return year\n        case MONTH:\n            return getDisplayDateFromYearMonthDay(year, month)\n        case WEEK:\n            return `${weekStr} ${week} / ${year}`\n        case DAY:\n        default:\n            return getDisplayDateFromYearMonthDay(year, month, day)\n    }\n}\n\nexport function getDisplayDateFromIsoString(isoString) {\n    const date = new Date(isoString)\n    return getDisplayDate(date, dateFormats.yyyymmdd)\n}\n\nexport function getDisplayDateFromYearMonthDay(year, month, day) {\n    const date = day\n        ? new Date(year, month - 1, day)\n        : new Date(year, month - 1)\n    const format = day ? dateFormats.yyyymmdd : dateFormats.yyyymm\n    return getDisplayDate(date, format)\n}\n\nfunction getDisplayDate(date, dateFormatOptions) {\n    const state = store.getState()\n    const locale = state.locale || 'en'\n    return new Intl.DateTimeFormat(locale, dateFormatOptions).format(date)\n}\n","import i18n from '@dhis2/d2-i18n'\n\nexport const colors = [\n    '#7cb5ec',\n    '#CC6600',\n    '#CCCC00',\n    '#66CC00',\n    '#ff0066',\n    '#000000',\n    '#00CCCC',\n]\n\nexport const options = {\n    animation: {\n        duration: 180,\n    },\n    legend: {\n        position: 'bottom',\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    tooltips: {\n        mode: 'nearest',\n    },\n    scales: {\n        xAxes: [\n            {\n                display: true,\n                scaleLabel: {\n                    display: true,\n                },\n                ticks: {\n                    maxRotation: 45,\n                    minRotation: 45,\n                },\n            },\n        ],\n        yAxes: [\n            {\n                display: true,\n                scaleLabel: {\n                    display: true,\n                    labelString: i18n.t('Values'),\n                },\n                ticks: {\n                    suggestedMin: 0,\n                    precision: 0,\n                },\n            },\n        ],\n    },\n}\n\nexport const dataSet = {\n    backgroundColor: 'rgba(0, 0, 0, 0)',\n    fill: false,\n    lineTension: 0,\n}\n","import { CHART_FIELDS as FIELDS } from '../../constants/fields'\nimport { FAVORITE_VIEWS, CATEGORY_LOOKUP } from '../../constants/categories'\nimport { getDisplayDateForInterval } from '../../utils/date'\nimport * as config from './config'\n\n// This will ensure that the chart at has an yAxis from 0 - 1\nconst MIN_SUGGESTED_MAX_VALUE = 1\n\nexport default function parseChartData(\n    { aggregationLevel, category, chartType, interval },\n    dataPoints\n) {\n    const labels = []\n    const datasets = []\n    const title = CATEGORY_LOOKUP[category].label\n    const subtitle = CATEGORY_LOOKUP[category].subtitle\n    let max = MIN_SUGGESTED_MAX_VALUE\n    let min = null\n    const fields =\n        category === FAVORITE_VIEWS\n            ? FIELDS[category][aggregationLevel][chartType]\n            : FIELDS[category]\n    const dataPointsLen = dataPoints.length\n    const fieldsLen = fields.length\n\n    for (\n        let dataPointIndex = 0;\n        dataPointIndex < dataPointsLen;\n        dataPointIndex++\n    ) {\n        const dataPoint = dataPoints[dataPointIndex]\n        labels.push(getDisplayDateForInterval(dataPoint, interval))\n\n        for (let fieldIndex = 0; fieldIndex < fieldsLen; fieldIndex++) {\n            const field = fields[fieldIndex]\n\n            if (dataPointIndex === 0) {\n                datasets.push({\n                    ...config.dataSet,\n                    label: field.label,\n                    data: [],\n                    borderColor: config.colors[fieldIndex],\n                })\n            }\n\n            const pointValue = dataPoint[field.key]\n\n            if (pointValue > max) {\n                max = pointValue\n            }\n\n            if (min === null || pointValue < min) {\n                min = pointValue\n            }\n\n            datasets[fieldIndex].data.push(pointValue)\n        }\n    }\n\n    config.options.scales.yAxes[0].ticks.suggestedMax = max\n    config.options.scales.yAxes[0].ticks.suggestedMin = min\n\n    config.options.onResize = onChartResize\n\n    return {\n        data: {\n            labels,\n            datasets,\n        },\n        options: config.options,\n        title,\n        subtitle,\n    }\n}\n\nexport function onChartResize(chart) {\n    chart.resize()\n}\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { CircularLoader } from '@dhis2/ui-core'\nimport { Line } from 'react-chartjs-2'\nimport parseChartData from './parseChartData'\nimport { LOADING, ERROR } from '../../constants/statuses'\nimport { TOP_FAVORITES } from '../../constants/categories'\nimport './Chart.css'\n\nconst baseClassName = 'uua-data-container uua-chart-container'\nconst loadingClassName = ' uua-data-container--loading'\n\nexport function Chart({ shouldHide, loading, chartConfig }) {\n    let content\n\n    if (shouldHide) {\n        return null\n    } else if (loading) {\n        content = <CircularLoader overlay />\n    } else {\n        const { options, data, title, subtitle } = chartConfig\n        content = (\n            <Fragment>\n                <h4 className=\"uaa-chart-title\">{title}</h4>\n                <h6 className=\"uaa-chart-subtitle\">{subtitle}</h6>\n                {/*\n                    chart.js canvas needs a dedicated wrapper to have a responsive size\n                    https://www.chartjs.org/docs/latest/general/responsive.html#important-note\n                */}\n                <div className=\"uaa-chart-wrap\">\n                    <Line data={data} options={options} />\n                </div>\n            </Fragment>\n        )\n    }\n\n    const className = loading ? baseClassName + loadingClassName : baseClassName\n\n    return <div className={className}>{content}</div>\n}\n\nChart.propTypes = {\n    chartConfig: PropTypes.object,\n    shouldHide: PropTypes.bool.isRequired,\n    loading: PropTypes.bool.isRequired,\n}\n\n// The Chart is not displayed for category TOP_FAVORITES, but it should also\n// be hidden when usageData === ERROR, because one Error message is enough,\n// and this Error will be displayed in the Table component\nexport function mapStateToProps({ usageData, filter }) {\n    const shouldHide = filter.category === TOP_FAVORITES || usageData === ERROR\n    const loading = usageData === LOADING\n    return {\n        shouldHide,\n        loading,\n        chartConfig:\n            shouldHide || loading ? null : parseChartData(filter, usageData),\n    }\n}\n\nexport default connect(mapStateToProps)(Chart)\n","import i18n from '@dhis2/d2-i18n'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { CircularLoader } from '@dhis2/ui-core'\nimport { FAVORITE_VIEWS } from '../constants/categories'\nimport { TABLE_FIELDS as FIELDS } from '../constants/fields'\nimport {\n    date as dateField,\n    created as createdField,\n} from '../constants/properties'\nimport { ERROR, LOADING } from '../constants/statuses'\nimport Error from './Error'\nimport {\n    getDisplayDateForInterval,\n    getDisplayDateFromIsoString,\n} from '../utils/date'\nimport './Table.css'\n\nconst baseClassName = 'uua-data-container'\nconst loadingClassName = ' uua-data-container--loading'\n\nexport const TableHead = ({ headers }) => (\n    <thead>\n        <tr>\n            {headers.map((header, i) => (\n                <th key={`h-${i}`}>{header}</th>\n            ))}\n        </tr>\n    </thead>\n)\n\nexport const TableBody = ({ rows }) => (\n    <tbody>\n        {rows.map((row, i) => (\n            <TableRow key={`row-${i}`} cells={row} />\n        ))}\n    </tbody>\n)\n\nexport const TableRow = ({ cells }) => (\n    <tr>\n        {cells.map((text, i) => (\n            <td key={`cell-${i}`}>{text}</td>\n        ))}\n    </tr>\n)\n\nexport function Table({ error, loading, tableData }) {\n    let content\n\n    if (error) {\n        content = (\n            <Error\n                message={i18n.t(\n                    'There was an error retrieving the usage analytics data'\n                )}\n            />\n        )\n    } else if (loading) {\n        content = <CircularLoader overlay />\n    } else {\n        const { headers, rows } = tableData\n        content = (\n            <table className=\"uaa-data-table\">\n                <TableHead headers={headers} />\n                <TableBody rows={rows} />\n            </table>\n        )\n    }\n\n    const className = loading ? baseClassName + loadingClassName : baseClassName\n\n    return <div className={className}>{content}</div>\n}\n\nTable.propTypes = {\n    error: PropTypes.bool.isRequired,\n    loading: PropTypes.bool.isRequired,\n    tableData: PropTypes.object,\n}\n\nTableHead.propTypes = {\n    headers: PropTypes.arrayOf(PropTypes.string).isRequired,\n}\n\nTableBody.propTypes = {\n    rows: PropTypes.arrayOf(PropTypes.array).isRequired,\n}\n\nTableRow.propTypes = {\n    cells: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ).isRequired,\n}\n\nexport function mapStateToProps({ usageData, filter }) {\n    const error = usageData === ERROR\n    const loading = usageData === LOADING\n    return {\n        error,\n        loading,\n        tableData: loading || error ? null : parseTableData(filter, usageData),\n    }\n}\n\nfunction parseTableData({ aggregationLevel, category, interval }, dataPoints) {\n    const fields =\n        category === FAVORITE_VIEWS\n            ? FIELDS[category][aggregationLevel]\n            : FIELDS[category]\n\n    return {\n        headers: fields.map(({ label }) => label),\n        rows: dataPoints.map(dataPoint =>\n            fields.map(field => {\n                if (field.key === dateField.key) {\n                    return getDisplayDateForInterval(dataPoint, interval)\n                }\n                if (field.key === createdField.key) {\n                    return getDisplayDateFromIsoString(dataPoint[field.key])\n                }\n                return dataPoint[field.key]\n            })\n        ),\n    }\n}\n\nexport default connect(mapStateToProps)(Table)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport i18n from '@dhis2/d2-i18n'\nimport { CircularLoader } from '@dhis2/ui-core'\nimport { LOADING, ERROR } from '../constants/statuses'\nimport { initApp } from '../actions'\nimport Error from './Error'\nimport FilterSideBar from './FilterSideBar'\nimport Chart from './Chart'\nimport Table from './Table'\n\nexport class UsageAnalytics extends Component {\n    componentDidMount() {\n        this.props.initApp()\n    }\n\n    render() {\n        const { appStatus } = this.props\n\n        if (appStatus === LOADING) {\n            return <CircularLoader overlay size=\"large\" />\n        }\n\n        if (appStatus === ERROR) {\n            return <Error message={i18n.t('Error loading application.')} />\n        }\n\n        return (\n            <main className=\"uaa-container\">\n                <FilterSideBar />\n                <section className=\"uaa-content\">\n                    <Chart />\n                    <Table />\n                </section>\n            </main>\n        )\n    }\n}\n\nUsageAnalytics.propTypes = {\n    initApp: PropTypes.func,\n    appStatus: PropTypes.string,\n}\n\nconst mapStateToProps = ({ appStatus }) => ({\n    appStatus,\n})\n\nexport default connect(\n    mapStateToProps,\n    {\n        initApp,\n    }\n)(UsageAnalytics)\n","import React from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport { Provider } from 'react-redux'\nimport store from '../store'\nimport UsageAnalytics from './UsageAnalytics'\n\nimport 'typeface-roboto/index.css'\n\nimport { CssReset } from '@dhis2/ui-core'\nimport { HeaderBar } from '@dhis2/ui-widgets'\nimport { DataProvider } from '@dhis2/app-runtime'\n\nconst url = process.env.REACT_APP_DHIS2_BASE_URL\n\nfunction App() {\n    return (\n        <DataProvider baseUrl={url} apiVersion=\"\">\n            <Provider store={store}>\n                <CssReset />\n                <HeaderBar appName={i18n.t('Usage Analytics')} />\n                <UsageAnalytics />\n            </Provider>\n        </DataProvider>\n    )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n)\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n                    )\n                })\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config)\n            }\n        })\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                if (installingWorker == null) {\n                    return\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n                            )\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration)\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.')\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration)\n                            }\n                        }\n                    }\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error)\n        })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type')\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config)\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            )\n        })\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister()\n        })\n    }\n}\n","import 'react-app-polyfill/ie11'\nimport 'core-js/es/string'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('uaa-root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}