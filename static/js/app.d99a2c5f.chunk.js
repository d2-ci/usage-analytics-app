(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[127],{176:function(e,a,t){e.exports={container:"LayoutContainer_container__2gt-1"}},177:function(e,a,t){e.exports={sidebar:"LayoutSidebar_sidebar__38x-X"}},178:function(e,a,t){e.exports={content:"LayoutContent_content__3pEdj"}},179:function(e,a,t){e.exports={title:"AppTitle_title__mjsfQ"}},180:function(e,a,t){},181:function(e,a,t){"use strict";t.r(a);var l=t(7),n=t(1),r=t.n(n),u=t(6),c=t.n(u),s=t(14),i=[{value:"FAVORITE_VIEWS",label:c.a.t("Favorite views"),subtitle:c.a.t("Number of times users looked at analysis favorites")},{value:"FAVORITES_SAVED",label:c.a.t("Favorites saved"),subtitle:c.a.t("Number of analysis favorites created by users")},{value:"USERS",label:c.a.t("Users"),subtitle:c.a.t("Number of users in the system")},{value:"TOP_FAVORITES",label:c.a.t("Top favorites")},{value:"DATA_VALUES",label:c.a.t("Data values"),subtitle:c.a.t("Number of data values saved in the system")}],o=function(e){var a=e.category,t=e.setCategory;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Category")},i.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},v=function(e){var a=e.startDate,t=e.setStartDate,l=e.endDate,n=e.setEndDate;return r.a.createElement("div",{className:"uaa-date-range"},r.a.createElement(s.f,{label:c.a.t("Start Date"),type:"date",value:a,onChange:function(e){var a=e.value;return t(a)}}),r.a.createElement(s.f,{label:c.a.t("End Date"),type:"date",value:l,onChange:function(e){var a=e.value;return n(a)}}))},E=[{value:"DAY",label:c.a.t("Day")},{value:"WEEK",label:c.a.t("Week")},{value:"MONTH",label:c.a.t("Month")},{value:"YEAR",label:c.a.t("Year")}],b=function(e){var a=e.interval,t=e.setInterval;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Interval")},E.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},m=[{value:"SUM",label:c.a.t("Sum")},{value:"AVERAGE",label:c.a.t("Average")}],d=function(e){var a=e.aggregation,t=e.setAggregation;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Aggregation level")},m.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},f=[{value:"ALL",label:c.a.t("All")},{value:"TOTAL",label:c.a.t("Total")}],p=function(e){var a=e.chartType,t=e.setChartType;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Chart type")},f.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},g=[{value:"CHART_VIEW",label:c.a.t("Chart")},{value:"MAP_VIEW",label:c.a.t("Map")},{value:"REPORT_TABLE_VIEW",label:c.a.t("Report table")},{value:"EVENT_REPORT_VIEW",label:c.a.t("Event report")},{value:"EVENT_CHART_VIEW",label:c.a.t("Event chart")},{value:"DASHBOARD_VIEW",label:c.a.t("Dashboard")},{value:"DATA_SET_REPORT_VIEW",label:c.a.t("Data set report")}],S=function(e){var a=e.eventType,t=e.setEventType;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Event type")},g.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},O=[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"}],y=function(e){var a=e.pageSize,t=e.setPageSize;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Page size")},O.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},T=[{value:"ASC",label:c.a.t("Ascending")},{value:"DESC",label:c.a.t("Descending")}],A=function(e){var a=e.sortOrder,t=e.setSortOrder;return r.a.createElement(s.l,{selected:a,onChange:function(e){var a=e.selected;t(a)},label:c.a.t("Sort order")},T.map((function(e){var a=e.label,t=e.value;return r.a.createElement(s.m,{label:a,key:t,value:t})})))},h=t(176),D=t.n(h),_=function(e){var a=e.children;return r.a.createElement("main",{className:D.a.container},a)},j=t(177),C=t.n(j),V=function(e){var a=e.children;return r.a.createElement("aside",{className:C.a.sidebar},a)},I=t(178),R=t.n(I),N=function(e){var a=e.children;return r.a.createElement("section",{className:R.a.content},a)},W=function(){return null},z=function(){return null},L=t(179),k=t.n(L),F=function(){return r.a.createElement("h1",{className:k.a.title},c.a.t("Usage Analytics"))},P=t(16),M={favorites:{resource:"dataStatistics/favorites",params:function(e){return{eventType:e.eventType,pageSize:e.pageSize,sortOrder:e.sortOrder}}}},U=function(e){var a=e.eventType,t=e.pageSize,l=e.sortOrder,u=e.children,c=Object(P.c)(M,{lazy:!0,variables:{eventType:a,pageSize:t,sortOrder:l}}),s=c.loading,i=c.error,o=c.data,v=c.called,E=c.refetch;return Object(n.useEffect)((function(){E({eventType:a,pageSize:t,sortOrder:l})}),[a,t,l]),!v||s?r.a.createElement("div",null,"Loading"):i?r.a.createElement("div",null,i.message||"Error"):u(o.favorites)},x={dataStatistics:{resource:"dataStatistics",params:function(e){return{startDate:e.startDate,endDate:e.endDate,interval:e.interval}}}},H=function(e){var a=e.startDate,t=e.endDate,l=e.interval,u=e.children,c=Object(P.c)(x,{lazy:!0,variables:{startDate:a,endDate:t,interval:l}}),s=c.loading,i=c.error,o=c.data,v=c.called,E=c.refetch;return Object(n.useEffect)((function(){E({startDate:a,endDate:t,interval:l})}),[a,t,l]),!v||s?r.a.createElement("div",null,"Loading"):i?r.a.createElement("div",null,i.message||"Error"):u(o.dataStatistics)},J=(t(180),function(){var e=Object(n.useState)("FAVORITE_VIEWS"),a=Object(l.a)(e,2),t=a[0],u=a[1],c=Object(n.useState)("2015-01-01"),s=Object(l.a)(c,2),i=s[0],E=s[1],m=Object(n.useState)("2020-01-01"),f=Object(l.a)(m,2),g=f[0],O=f[1],T=Object(n.useState)("WEEK"),h=Object(l.a)(T,2),D=h[0],j=h[1],C=Object(n.useState)("SUM"),I=Object(l.a)(C,2),R=I[0],L=I[1],k=Object(n.useState)("ALL"),P=Object(l.a)(k,2),M=P[0],x=P[1],J=Object(n.useState)("CHART_VIEW"),w=Object(l.a)(J,2),Y=w[0],B=w[1],K=Object(n.useState)("25"),G=Object(l.a)(K,2),Q=G[0],X=G[1],q=Object(n.useState)("ASC"),Z=Object(l.a)(q,2),$=Z[0],ee=Z[1],ae="TOP_FAVORITES"===t,te="FAVORITE_VIEWS"===t;return r.a.createElement(_,null,r.a.createElement(V,null,r.a.createElement(F,null),r.a.createElement(o,{category:t,setCategory:u}),!ae&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{startDate:i,setStartDate:E,endDate:g,setEndDate:O}),r.a.createElement(b,{interval:D,setInterval:j})),te&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{aggregation:R,setAggregation:L}),r.a.createElement(p,{chartType:M,setChartType:x})),ae&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{eventType:Y,setEventType:B}),r.a.createElement(y,{pageSize:Q,setPageSize:X}),r.a.createElement(A,{sortOrder:$,setSortOrder:ee}))),r.a.createElement(N,null,ae?r.a.createElement(U,{eventType:Y,pageSize:Q,sortOrder:$},(function(e){return r.a.createElement("pre",null,JSON.stringify(e,null,2))})):r.a.createElement(H,{startDate:i,endDate:g,interval:D},(function(e){return r.a.createElement("pre",null,JSON.stringify(e,null,2))})),r.a.createElement(W,null),r.a.createElement(z,null)))});t.d(a,"default",(function(){return J}))}}]);
//# sourceMappingURL=app.d99a2c5f.chunk.js.map